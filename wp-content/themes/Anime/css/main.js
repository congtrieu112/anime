function validateform(e){if(submitted)return alert("Form already submitted, Please Wait."),!1;if(!submitted){submitted=1,$(".field_error").attr("class","field_error g_hidden");var t=new Object,i=!0,n=!0;t.username=$("input[name='username']").val(),t.pass=$("input[name='pass']").val(),t.pass2=$("input[name='pass2']").val(),t.email=$("input[name='email']").val(),t.code=$("input[name='code']").val();for(var o in t){var r="#"+o+"_error_1";if(""==t[o]){$(r).attr("class","field_error"),i=!1;break}$(r).attr("class","field_error g_hidden")}if(i){var a=/^[a-z0-9_\.\-@]{3,65}$/i,s=/^[a-z0-9_\.\-]+@([a-z0-9\-]+\.)+[a-z]{2,4}$/i;switch(!0){case t.username.length<3:$("#username_error_2").attr("class","field_error"),n=!1;break;case!a.test(t.username):$("#username_error_3").attr("class","field_error"),n=!1;break;case t.pass.length<5:$("#pass_error_2").attr("class","field_error"),n=!1;break;case t.pass2!=t.pass:$("#pass2_error_2").attr("class","field_error"),n=!1;break;case!s.test(t.email):$("#email_error_2").attr("class","field_error"),n=!1}n?$.ajax({url:"/ch.php",complete:function(e){},data:{m:t.email},dataType:"json"}).done(function(e){switch(e){case"error_1":$("#email_error_2").text("invalid domain name!"),$("#email_error_2").attr("class","field_error"),submitted=0;break;case"invalid":$("#email_error_2").text("The entered email is not valid! Can't send a confirmation email to "+t.email+"!"),$("#email_error_2").attr("class","field_error"),submitted=0;break;case"valid":$("#signup_form").submit()}}):submitted=0}else submitted=0}}function videoViewFavs(){var e=$(".ajax-loader"),t=$("#fav_link_remove"),i=$("#fav_link");t.on("click",function(n){n.preventDefault(),e.css({display:"block"}),t.css({display:"none"}),i.css({display:"none"}),$.ajax({type:"POST",url:"/my_favourite_videos/",data:$("#delete_videos_form_fav").serialize(),success:function(){e.css({display:"none"}),t.css({display:"none"}),i.css({display:"block"})}})}),i.on("click",function(n){n.preventDefault(),e.css({display:"block"}),t.css({display:"none"}),i.css({display:"none"})})}function animateButton(){var e=$("#js-back-to-top"),t=$(window).scrollTop();t>400?e.fadeIn():e.fadeOut()}function loadContent(e,t){$.ajax({url:e,mode:"async",type:"GET",beforeSend:function(){$(".js-load-content").block({message:'<img src="/assets_desktop/img/preloader-ring.gif"/>',centerX:!0,centerY:!1,css:{border:"0",backgroundColor:"none",top:"7%"},overlayCSS:{backgroundColor:"#fff",opacity:.6}})}}).done(function(i){if($(".js-load-content").html($(i).find(".js-load-content").html()),$(".js-load-content").unblock(),1==t){var n={location:e};history.replaceState(n,null,e)}}).fail(function(e){UIkit.notify({message:' If you have received this message please <a class="link" href="/form.html" data-modal="iframe">contact us.</a>',status:"danger",timeout:5e3,pos:"top-center"}),$(".js-load-content").unblock()})}function changeButtonText(e){var t=$(e),i=t.find(".btn__text"),n=i.text(),o=t.attr("data-lang-alt");i.text(o),t.attr("data-lang-alt",n)}function setCategoryGroupId(e){name="category_group_id",Cookies.set(name,e,{domain:".txxx.com",path:"/",expires:7})}function langAttribute(){var e=location.hostname,t="en";return"http://www.txxx.com"==e||"http://txxx.com"==e?t="en":"it.txxx.com"==e?t="it":"de.txxx.com"==e?t="de":"es.txxx.com"==e?t="es":"fr.txxx.com"==e?t="fr":"nl.txxx.com"==e?t="nl":"pt.txxx.com"==e?t="pt":"pl.txxx.com"==e?t="pl":"ru.txxx.com"==e?t="ru":"jp.txxx.com"==e?t="jp":"cn.txxx.com"==e&&(t="cn"),t}function removeFromWatchLater(e){$.ajax({type:"POST",data:{action:"delete_from_favourites","delete[]":$$.tubecup.video_id,fav_type:e},complete:function(){}})}function DropDown(e){this.dropdown=e,this.placeholder=this.dropdown.find(".btn__text"),this.items=this.dropdown.find(".dropdown__item"),this.val="",this.initEvents()}function initChangeMainScreenshot(){var e=$("#js-screenshots-input"),t=$(".uploader-screenshots").find(".thumb"),i=$("#js-screenshots-main-screen");t.on("click",function(){var t=$(this);screenNumber=t.data("screen"),t.addClass("is-active").siblings().removeClass("is-active"),e.val(screenNumber),i.attr("src",function(e,t){return t.replace(/\d+\.jpg/,screenNumber+".jpg")})})}function changeButtonView(e,t){e=$(this)}(function(){var e,t,i,n,o,r,a,s,l=[].slice,c={}.hasOwnProperty,u=function(e,t){function i(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};a=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,o,r;if(n=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(o=0,r=i.length;r>o;o++)t=i[o],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,o,r,a;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[e],!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(o=r=0,a=n.length;a>r;o=++r)if(i=n[o],i===t){n.splice(o,1);break}return this},e}(),e=function(e){function i(e,t){var o,r,a;if(this.element=e,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,o=null!=(a=i.optionsForElement(this.element))?a:{},this.options=n({},this.defaultOptions,o,null!=t?t:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=i.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=i.getElements(this.options.clickable,"clickable")),this.init()}var n,o;return u(i,e),i.prototype.Emitter=t,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return a},forceFallback:!1,fallback:function(){var e,t,n,o,r,a;for(this.element.className=""+this.element.className+" dz-browser-not-supported",a=this.element.getElementsByTagName("div"),o=0,r=a.length;r>o;o++)e=a[o],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),n=t.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,o,r,a,s,l,c,u,d,p,h,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=i.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),d=e.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=d.length;l>r;r++)t=d[r],t.textContent=e.name;for(p=e.previewElement.querySelectorAll("[data-dz-size]"),a=0,c=p.length;c>a;a++)t=p[a],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),n=function(t){return function(n){return n.preventDefault(),n.stopPropagation(),e.status===i.UPLOADING?i.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?i.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),h=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],s=0,u=h.length;u>s;s++)o=h[s],f.push(o.addEventListener("click",n));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,o,r;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),r=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,o=r.length;o>n;n++)i=r[n],i.alt=e.name,i.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var i,n,o,r,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=e.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],n=0,o=r.length;o>n;n++)i=r[n],a.push(i.textContent=t);return a}},errormultiple:a,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:a,uploadprogress:function(e,t,i){var n,o,r,a,s;for(a=document.querySelectorAll("[data-dz-uploadprogress]"),s=[],o=0,r=a.length;r>o;o++)n=a[o],"PROGRESS"===n.nodeName?s.push(n.value=t):(document.querySelectorAll("#js-upload-percent")[0].textContent=Math.round(t)+"%",s.push(n.style.width=""+t+"%"));return s},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:a,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:a,complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var e,t,i,n,o,r,a;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],r=0,a=i.length;a>r;r++){t=i[r];for(e in t)o=t[e],n[e]=o}return n},i.prototype.getAcceptedFiles=function(){var e,t,i,n,o;for(n=this.files,o=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted&&o.push(e);return o},i.prototype.getRejectedFiles=function(){var e,t,i,n,o;for(n=this.files,o=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted||o.push(e);return o},i.prototype.getFilesWithStatus=function(e){var t,i,n,o,r;for(o=this.files,r=[],i=0,n=o.length;n>i;i++)t=o[i],t.status===e&&r.push(t);return r},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getActiveFiles=function(){var e,t,n,o,r;for(o=this.files,r=[],t=0,n=o.length;n>t;t++)e=o[t],(e.status===i.UPLOADING||e.status===i.QUEUED)&&r.push(e);return r},i.prototype.init=function(){var e,t,n,o,r,a,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(e){return function(){return e.hiddenFileInput&&document.body.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.body.appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,i,o,r;if(i=e.hiddenFileInput.files,i.length)for(o=0,r=i.length;r>o;o++)t=i[o],e.addFile(t);return n()})}}(this))(),this.URL=null!=(a=window.URL)?a:window.webkitURL,s=this.events,o=0,r=s.length;r>o;o++)e=s[o],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){return 0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(i){return t(i),e.emit("dragenter",i)}}(this),dragover:function(e){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(o){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(i),e.emit("dragover",i)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(i){return t(i),e.drop(i)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(n){return t!==e.element||n.target===e.element||i.elementInside(n.target,e.element.querySelector(".dz-message"))?e.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var e,t,i,n,o,r,a,s;if(n=0,i=0,e=this.getActiveFiles(),e.length){for(s=this.getActiveFiles(),r=0,a=s.length;a>r;r++)t=s[r],n+=t.upload.bytesSent,i+=t.upload.total;o=100*n/i}else o=100;return this.emit("totaluploadprogress",o,i,n)},i.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},i.prototype.getFallbackForm=function(){var e,t,n,o;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=i.createElement(n),"FORM"!==this.element.tagName?(o=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),o.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=o?o:t)},i.prototype.getExistingFallback=function(){var e,t,i,n,o,r;for(t=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},r=["div","form"],n=0,o=r.length;o>n;n++)if(i=r[n],e=t(this.element.getElementsByTagName(i)))return e},i.prototype.setupEventListeners=function(){var e,t,i,n,o,r,a;for(r=this.listeners,a=[],n=0,o=r.length;o>n;n++)e=r[n],a.push(function(){var n,o;n=e.events,o=[];for(t in n)i=n[t],o.push(e.element.addEventListener(t,i,!1));return o}());return a},i.prototype.removeEventListeners=function(){var e,t,i,n,o,r,a;for(r=this.listeners,a=[],n=0,o=r.length;o>n;n++)e=r[n],a.push(function(){var n,o;n=e.events,o=[];for(t in n)i=n[t],o.push(e.element.removeEventListener(t,i,!1));return o}());return a},i.prototype.disable=function(){var e,t,i,n,o;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(this.cancelUpload(e));return o},i.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(e){var t,i,n,o,r,a,s,l;for(a=["TB","GB","MB","KB","b"],n=o=null,i=s=0,l=a.length;l>s;i=++s)if(r=a[i],t=Math.pow(this.options.filesizeBase,4-i)/10,e>=t){n=e/Math.pow(this.options.filesizeBase,4-i),o=r;break}return n=Math.round(10*n)/10,"<strong>"+n+"</strong> "+o},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},i.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},i.prototype.handleFiles=function(e){var t,i,n,o;for(o=[],i=0,n=e.length;n>i;i++)t=e[i],o.push(this.addFile(t));return o},i.prototype._addFilesFromItems=function(e){var t,i,n,o,r;for(r=[],n=0,o=e.length;o>n;n++)i=e[n],null!=i.webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?r.push(this.addFile(i.getAsFile())):t.isDirectory?r.push(this._addFilesFromDirectory(t,t.name)):r.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?r.push(this.addFile(i.getAsFile())):r.push(void 0);return r},i.prototype._addFilesFromDirectory=function(e,t){var i,n;return i=e.createReader(),n=function(e){return function(i){var n,o,r;for(o=0,r=i.length;r>o;o++)n=i[o],n.isFile?n.file(function(i){return e.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+t+"/"+i.name,e.addFile(i))}):n.isDirectory&&e._addFilesFromDirectory(n,""+t+"/"+n.name)}}(this),i.readEntries(n,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},i.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},i.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=i.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)t=e[i],this.enqueueFile(t);return null},i.prototype.enqueueFile=function(e){if(e.status!==i.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=i.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},i.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},i.prototype.removeFile=function(e){return e.status===i.UPLOADING&&this.cancelUpload(e),this.files=s(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(e){var t,n,o,r;for(null==e&&(e=!1),r=this.files.slice(),n=0,o=r.length;o>n;n++)t=r[n],(t.status!==i.UPLOADING||e)&&this.removeFile(t);return null},i.prototype.createThumbnail=function(e,t){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}}(this),i.readAsDataURL(e)},i.prototype.createThumbnailFromUrl=function(e,t,i){var n;return n=document.createElement("img"),n.onload=function(t){return function(){var o,a,s,l,c,u,d,p;return e.width=n.width,e.height=n.height,s=t.options.resize.call(t,e),null==s.trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),o=document.createElement("canvas"),a=o.getContext("2d"),o.width=s.trgWidth,o.height=s.trgHeight,r(a,n,null!=(c=s.srcX)?c:0,null!=(u=s.srcY)?u:0,s.srcWidth,s.srcHeight,null!=(d=s.trgX)?d:0,null!=(p=s.trgY)?p:0,s.trgWidth,s.trgHeight),l=o.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=i?i():void 0}}(this),null!=i&&(n.onerror=i),n.src=t},i.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,e=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;t>e;){if(!n.length)return;this.processFile(n.shift()),e++}}},i.prototype.processFile=function(e){return this.processFiles([e])},i.prototype.processFiles=function(e){var t,n,o;for(n=0,o=e.length;o>n;n++)t=e[n],t.processing=!0,t.status=i.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},i.prototype._getFilesWithXhr=function(e){var t,i;return i=function(){var i,n,o,r;for(o=this.files,r=[],i=0,n=o.length;n>i;i++)t=o[i],t.xhr===e&&r.push(t);return r}.call(this)},i.prototype.cancelUpload=function(e){var t,n,o,r,a,s,l;if(e.status===i.UPLOADING){for(n=this._getFilesWithXhr(e.xhr),o=0,a=n.length;a>o;o++)t=n[o],t.status=i.CANCELED;for(e.xhr.abort(),r=0,s=n.length;s>r;r++)t=n[r],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=e.status)===i.ADDED||l===i.QUEUED)&&(e.status=i.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},o=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},i.prototype.uploadFile=function(e){return this.uploadFiles([e])},i.prototype.uploadFiles=function(e){var t,r,a,s,l,c,u,d,p,h,f,m,g,v,b,y,w,k,x,$,C,_,I,T,S,E,j,F,D,A,U,O,z,L;for(x=new XMLHttpRequest,$=0,T=e.length;T>$;$++)t=e[$],t.xhr=x;m=o(this.options.method,e),w=o(this.options.url,e),x.open(m,w,!0),x.withCredentials=!!this.options.withCredentials,b=null,a=function(i){return function(){var n,o,r;for(r=[],n=0,o=e.length;o>n;n++)t=e[n],r.push(i._errorProcessing(e,b||i.options.dictResponseError.replace("{{statusCode}}",x.status),x));return r}}(this),y=function(i){return function(n){var o,r,a,s,l,c,u,d,p;if(null!=n)for(r=100*n.loaded/n.total,a=0,c=e.length;c>a;a++)t=e[a],t.upload={progress:r,total:n.total,bytesSent:n.loaded};else{for(o=!0,r=100,s=0,u=e.length;u>s;s++)t=e[s],(100!==t.upload.progress||t.upload.bytesSent!==t.upload.total)&&(o=!1),t.upload.progress=r,t.upload.bytesSent=t.upload.total;if(o)return}for(p=[],l=0,d=e.length;d>l;l++)t=e[l],p.push(i.emit("uploadprogress",t,r,t.upload.bytesSent));return p}}(this),x.onload=function(t){return function(n){var o;if(e[0].status!==i.CANCELED&&4===x.readyState){if(b=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(r){n=r,b="Invalid JSON response from server."}return y(),200<=(o=x.status)&&300>o?t._finished(e,b,n):a()}}}(this),x.onerror=function(t){return function(){return e[0].status!==i.CANCELED?a():void 0}}(this),v=null!=(D=x.upload)?D:x,v.onprogress=y,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(c,this.options.headers);for(s in c)l=c[s],x.setRequestHeader(s,l);if(r=new FormData,this.options.params){A=this.options.params;for(f in A)k=A[f],r.append(f,k)}for(C=0,S=e.length;S>C;C++)t=e[C],this.emit("sending",t,x,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,x,r),"FORM"===this.element.tagName)for(U=this.element.querySelectorAll("input, textarea, select, button"),_=0,E=U.length;E>_;_++)if(d=U[_],p=d.getAttribute("name"),h=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(O=d.options,I=0,j=O.length;j>I;I++)g=O[I],
g.selected&&r.append(p,g.value);else(!h||"checkbox"!==(z=h.toLowerCase())&&"radio"!==z||d.checked)&&r.append(p,d.value);for(u=F=0,L=e.length-1;L>=0?L>=F:F>=L;u=L>=0?++F:--F)r.append(this._getParamName(u),e[u],e[u].name);return x.send(r)},i.prototype._finished=function(e,t,n){var o,r,a;for(r=0,a=e.length;a>r;r++)o=e[r],o.status=i.SUCCESS,this.emit("success",o,t,n),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(e,t,n){var o,r,a;for(r=0,a=e.length;a>r;r++)o=e[r],o.status=i.ERROR,this.emit("error",o,t,n),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},i}(t),e.version="4.0.1",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[i(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,i,n,o,r,a;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],t=function(e){var t,i,o,r;for(r=[],i=0,o=e.length;o>i;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?r.push(n.push(t)):r.push(void 0);return r},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),a=[],o=0,r=n.length;r>o;o++)i=n[o],e.optionsForElement(i)!==!1?a.push(new e(i)):a.push(void 0);return a},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,i,n,o,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=e.blacklistedBrowsers,n=0,o=r.length;o>n;n++)i=r[n],i.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},s=function(e,t){var i,n,o,r;for(r=[],n=0,o=e.length;o>n;n++)i=e[n],i!==t&&r.push(i);return r},i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},e.getElements=function(e,t){var i,n,o,r,a,s,l,c;if(e instanceof Array){o=[];try{for(r=0,s=e.length;s>r;r++)n=e[r],o.push(this.getElement(n,t))}catch(u){i=u,o=null}}else if("string"==typeof e)for(o=[],c=document.querySelectorAll(e),a=0,l=c.length;l>a;a++)n=c[a],o.push(n);else null!=e.nodeType&&(o=[e]);if(null==o||!o.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return o},e.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},e.isValidFile=function(e,t){var i,n,o,r,a;if(!t)return!0;for(t=t.split(","),n=e.type,i=n.replace(/\/.*$/,""),r=0,a=t.length;a>r;r++)if(o=t[r],o=o.trim(),"."===o.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(i===o.replace(/\/.*$/,""))return!0}else if(n===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",o=function(e){var t,i,n,o,r,a,s,l,c,u;for(s=e.naturalWidth,a=e.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=a,n=i.getContext("2d"),n.drawImage(e,0,0),o=n.getImageData(0,0,1,a).data,u=0,r=a,l=a;l>u;)t=o[4*(l-1)+3],0===t?r=l:u=l,l=r+u>>1;return c=l/a,0===c?1:c},r=function(e,t,i,n,r,a,s,l,c,u){var d;return d=o(t),e.drawImage(t,i,n,r,a,s,l,c,u/d)},n=function(e,t){var i,n,o,r,a,s,l,c,u;if(o=!1,u=!0,n=e.document,c=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",s=n.addEventListener?"":"on",r=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?e:n)[l](s+i.type,r,!1),!o&&(o=!0)?t.call(e,i.type||i):void 0):void 0},a=function(){var e;try{c.doScroll("left")}catch(t){return e=t,void setTimeout(a,50)}return r("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(d){}u&&a()}return n[i](s+"DOMContentLoaded",r,!1),n[i](s+"readystatechange",r,!1),e[i](s+"load",r,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},n(window,e._autoDiscoverFunction)}).call(this),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var i=t||0,n=this.length;n>i;i++)if(this[i]===e)return i;return-1});var QueryString=function(){for(var e={},t=window.location.search.substring(1),i=t.split("&"),n=0;n<i.length;n++){var o=i[n].split("=");if("undefined"==typeof e[o[0]])e[o[0]]=o[1];else if("string"==typeof e[o[0]]){var r=[e[o[0]],o[1]];e[o[0]]=r}else e[o[0]].push(o[1])}return e}();$(document).ready(function(){if($(".autoload").get(0)){var e=$(".autoload").attr("data-id"),t=3,i={mode:"async",action:"get_block",block_id:e,items_per_page:20},n=$.param(i),o=window.location.pathname+"?"+n;$(window).on("scroll",function(){return $(window).scrollTop()>=$(".autoload").offset().top+$(".autoload").outerHeight()-window.innerHeight?$(".autoload").hasClass("loading")?!1:($(".autoload").addClass("loading"),$(".pag_preload").show(),7>=t?$.ajax({url:o+"&from="+t,success:function(e){if(e){var i=$(e).find(".thumb-grid").html();$(".autoload .thumb-grid").append(i),t++,$(".autoload").removeClass("loading")}}}):($(".pag_preload").hide(),$(".more-videos").show()),!1):void 0})}}),function(){var e,t,i;e=jQuery,i=function(){function e(){this.fadeDuration=500,this.fitImagesInViewport=!0,this.resizeDuration=700,this.showImageNumberLabel=!0,this.wrapAround=!1}return e.prototype.albumLabel=function(e,t){return"Image "+e+" of "+t},e}(),t=function(){function t(e){this.options=e,this.album=[],this.currentImageIndex=void 0,this.init()}return t.prototype.init=function(){return this.enable(),this.build()},t.prototype.enable=function(){var t=this;return e("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){return t.start(e(i.currentTarget)),!1})},t.prototype.build=function(){var t=this;return e("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo(e("body")),this.$lightbox=e("#lightbox"),this.$overlay=e("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return t.end(),!1}),this.$lightbox.hide().on("click",function(i){return"lightbox"===e(i.target).attr("id")&&t.end(),!1}),this.$outerContainer.on("click",function(i){return"lightbox"===e(i.target).attr("id")&&t.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===t.currentImageIndex?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})},t.prototype.start=function(t){var i,n,o,r,a,s,l,c,u,d,p,h,f;if(e(window).on("resize",this.sizeOverlay),e("select, object, embed").css({visibility:"hidden"}),this.$overlay.width(e(document).width()).height(e(document).height()).fadeIn(this.options.fadeDuration),this.album=[],a=0,o=t.attr("data-lightbox"))for(h=e(t.prop("tagName")+'[data-lightbox="'+o+'"]'),r=c=0,d=h.length;d>c;r=++c)n=h[r],this.album.push({link:e(n).attr("href"),title:e(n).attr("title")}),e(n).attr("href")===t.attr("href")&&(a=r);else if("lightbox"===t.attr("rel"))this.album.push({link:t.attr("href"),title:t.attr("title")});else for(f=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]'),r=u=0,p=f.length;p>u;r=++u)n=f[r],this.album.push({link:e(n).attr("href"),title:e(n).attr("title")}),e(n).attr("href")===t.attr("href")&&(a=r);i=e(window),l=i.scrollTop()+i.height()/10,s=i.scrollLeft(),this.$lightbox.css({top:l+"px",left:s+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(a)},t.prototype.changeImage=function(t){var i,n,o=this;this.disableKeyboardNav(),i=this.$lightbox.find(".lb-image"),this.sizeOverlay(),this.$overlay.fadeIn(this.options.fadeDuration),e(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating"),n=new Image,n.onload=function(){var r,a,s,l,c,u,d;return i.attr("src",o.album[t].link),r=e(n),i.width(n.width),i.height(n.height),o.options.fitImagesInViewport&&(d=e(window).width(),u=e(window).height(),c=d-o.containerLeftPadding-o.containerRightPadding-20,l=u-o.containerTopPadding-o.containerBottomPadding-110,(n.width>c||n.height>l)&&(n.width/c>n.height/l?(s=c,a=parseInt(n.height/(n.width/s),10),i.width(s),i.height(a)):(a=l,s=parseInt(n.width/(n.height/a),10),i.width(s),i.height(a)))),o.sizeContainer(i.width(),i.height())},n.src=this.album[t].link,this.currentImageIndex=t},t.prototype.sizeOverlay=function(){return e("#lightboxOverlay").width(e(document).width()).height(e(document).height())},t.prototype.sizeContainer=function(e,t){var i,n,o,r,a=this;r=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),n=e+this.containerLeftPadding+this.containerRightPadding,i=t+this.containerTopPadding+this.containerBottomPadding,this.$outerContainer.animate({width:n,height:i},this.options.resizeDuration,"swing"),setTimeout(function(){a.$lightbox.find(".lb-dataContainer").width(n),a.$lightbox.find(".lb-prevLink").height(i),a.$lightbox.find(".lb-nextLink").height(i),a.showImage()},this.options.resizeDuration)},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?this.$lightbox.find(".lb-prev, .lb-next").show():(this.currentImageIndex>0&&this.$lightbox.find(".lb-prev").show(),this.currentImageIndex<this.album.length-1&&this.$lightbox.find(".lb-next").show()))},t.prototype.updateDetails=function(){var e=this;"undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast"),this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.resizeDuration,function(){return e.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){var e,t;this.album.length>this.currentImageIndex+1&&(e=new Image,e.src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&(t=new Image,t.src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},t.prototype.keyboardAction=function(e){var t,i,n,o,r;t=27,i=37,n=39,r=e.keyCode,o=String.fromCharCode(r).toLowerCase(),r===t||o.match(/x|o|c/)?this.end():"p"===o||r===i?0!==this.currentImageIndex&&this.changeImage(this.currentImageIndex-1):("n"===o||r===n)&&this.currentImageIndex!==this.album.length-1&&this.changeImage(this.currentImageIndex+1)},t.prototype.end=function(){return this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"})},t}(),e(function(){var e,n;return n=new i,e=new t(n)})}.call(this);var submitted=0;$(document).ready(function(){videoViewFavs()}),$(function(){var e=$("#link-codes");e.length&&($.fn.OneClickSelect=function(){return $(this).on("click",function(){var e,t;window.getSelection?(t=window.getSelection(),e=document.createRange(),e.selectNodeContents(this),t.removeAllRanges(),t.addRange(e)):document.body.createTextRange&&(e=document.body.createTextRange(),e.moveToElementText(this),e.select())})},e.find(".input").OneClickSelect(),e.find(".label").click(function(){$(this).next().focus().click()}))}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(i))}function i(t){var i=t.target,n=e(i);if(!n.is("[type=submit],[type=image]")){var o=n.closest("[type=submit]");if(0===o.length)return;i=o[0]}var r=this;if(r.clk=i,"image"==i.type)if(void 0!==t.offsetX)r.clk_x=t.offsetX,r.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var a=n.offset();r.clk_x=t.pageX-a.left,r.clk_y=t.pageY-a.top}else r.clk_x=t.pageX-i.offsetLeft,r.clk_y=t.pageY-i.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}function n(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var o={};o.fileapi=void 0!==e("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var r=!!e.fn.prop;e.fn.attr2=function(){if(!r)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function i(i){var n,o,r=e.param(i,t.traditional).split("&"),a=r.length,s=[];for(n=0;a>n;n++)r[n]=r[n].replace(/\+/g," "),o=r[n].split("="),s.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return s}function a(n){for(var o=new FormData,r=0;r<n.length;r++)o.append(n[r].name,n[r].value);if(t.extraData){var a=i(t.extraData);for(r=0;r<a.length;r++)a[r]&&o.append(a[r][0],a[r][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(s.xhr=function(){var i=e.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(e){var i=0,n=e.loaded||e.position,o=e.total;e.lengthComputable&&(i=Math.ceil(n/o*100)),t.uploadProgress(e,n,o,i)},!1),i}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(e,i){t.formData?i.data=t.formData:i.data=o,c&&c.call(this,e,i)},e.ajax(s)}function s(i){function o(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(i){n("cannot get iframe.contentWindow document: "+i)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){n("cannot get iframe.contentDocument: "+i),t=e.document}return t}function a(){function t(){try{var e=o(v).readyState;n("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(i){n("Server abort: ",i," (",i.name,")"),s(I),x&&clearTimeout(x),x=void 0}}var i=d.attr2("target"),r=d.attr2("action"),a="multipart/form-data",c=d.attr("enctype")||d.attr("encoding")||a;$.setAttribute("target",f),(!l||/post/i.test(l))&&$.setAttribute("method","POST"),r!=p.url&&$.setAttribute("action",p.url),p.skipEncodingOverride||l&&!/post/i.test(l)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(x=setTimeout(function(){k=!0,s(_)},p.timeout));var u=[];try{if(p.extraData)for(var h in p.extraData)p.extraData.hasOwnProperty(h)&&(e.isPlainObject(p.extraData[h])&&p.extraData[h].hasOwnProperty("name")&&p.extraData[h].hasOwnProperty("value")?u.push(e('<input type="hidden" name="'+p.extraData[h].name+'">').val(p.extraData[h].value).appendTo($)[0]):u.push(e('<input type="hidden" name="'+h+'">').val(p.extraData[h]).appendTo($)[0]));p.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(t,15);try{$.submit()}catch(m){var b=document.createElement("form").submit;b.apply($)}}finally{$.setAttribute("action",r),$.setAttribute("enctype",c),i?$.setAttribute("target",i):d.removeAttr("target"),e(u).remove()}}function s(t){if(!b.aborted&&!F){if(j=o(v),j||(n("cannot access response document"),t=I),t===_&&b)return b.abort("timeout"),void C.reject(b,"timeout");if(t==I&&b)return b.abort("server abort"),void C.reject(b,"error","server abort");if(j&&j.location.href!=p.iframeSrc||k){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var i,r="success";try{if(k)throw"timeout";var a="xml"==p.dataType||j.XMLDocument||e.isXMLDoc(j);if(n("isXml="+a),!a&&window.opera&&(null===j.body||!j.body.innerHTML)&&--D)return n("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var l=j.body?j.body:j.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=j.XMLDocument?j.XMLDocument:j,a&&(p.dataType="xml"),b.getResponseHeader=function(e){var t={"content-type":p.dataType};return t[e.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(p.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||p.textarea){var d=j.getElementsByTagName("textarea")[0];if(d)b.responseText=d.value,b.status=Number(d.getAttribute("status"))||b.status,b.statusText=d.getAttribute("statusText")||b.statusText;else if(u){var f=j.getElementsByTagName("pre")[0],m=j.getElementsByTagName("body")[0];f?b.responseText=f.textContent?f.textContent:f.innerText:m&&(b.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=A(b.responseText));try{E=O(b,c,p)}catch(y){r="parsererror",b.error=i=y||r}}catch(y){n("error caught: ",y),r="error",b.error=i=y||r}b.aborted&&(n("upload aborted"),r=null),b.status&&(r=b.status>=200&&b.status<300||304===b.status?"success":"error"),"success"===r?(p.success&&p.success.call(p.context,E,"success",b),C.resolve(b.responseText,"success",b),h&&e.event.trigger("ajaxSuccess",[b,p])):r&&(void 0===i&&(i=b.statusText),p.error&&p.error.call(p.context,b,r,i),C.reject(b,"error",i),h&&e.event.trigger("ajaxError",[b,p,i])),h&&e.event.trigger("ajaxComplete",[b,p]),h&&!--e.active&&e.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,b,r),F=!0,p.timeout&&clearTimeout(x),setTimeout(function(){p.iframeTarget?g.attr("src",p.iframeSrc):g.remove(),b.responseXML=null},100)}}}var c,u,p,h,f,g,v,b,y,w,k,x,$=d[0],C=e.Deferred();if(C.abort=function(e){b.abort(e)},i)for(u=0;u<m.length;u++)c=e(m[u]),r?c.prop("disabled",!1):c.removeAttr("disabled");if(p=e.extend(!0,{},e.ajaxSettings,t),p.context=p.context||p,f="jqFormIO"+(new Date).getTime(),p.iframeTarget?(g=e(p.iframeTarget),w=g.attr2("name"),w?f=w:g.attr2("name",f)):(g=e('<iframe name="'+f+'" src="'+p.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(o){}g.attr("src",p.iframeSrc),b.error=i,p.error&&p.error.call(p.context,b,i,t),h&&e.event.trigger("ajaxError",[b,p,i]),p.complete&&p.complete.call(p.context,b,i)}},h=p.global,h&&0===e.active++&&e.event.trigger("ajaxStart"),h&&e.event.trigger("ajaxSend",[b,p]),p.beforeSend&&p.beforeSend.call(p.context,b,p)===!1)return p.global&&e.active--,C.reject(),C;if(b.aborted)return C.reject(),C;y=$.clk,y&&(w=y.name,w&&!y.disabled&&(p.extraData=p.extraData||{},p.extraData[w]=y.value,"image"==y.type&&(p.extraData[w+".x"]=$.clk_x,p.extraData[w+".y"]=$.clk_y)));var _=1,I=2,T=e("meta[name=csrf-token]").attr("content"),S=e("meta[name=csrf-param]").attr("content");S&&T&&(p.extraData=p.extraData||{},p.extraData[S]=T),p.forceSync?a():setTimeout(a,10);var E,j,F,D=50,A=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},U=e.parseJSON||function(e){return window.eval("("+e+")")},O=function(t,i,n){var o=t.getResponseHeader("content-type")||"",r="xml"===i||!i&&o.indexOf("xml")>=0,a=r?t.responseXML:t.responseText;return r&&"parsererror"===a.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(a=n.dataFilter(a,i)),"string"==typeof a&&("json"===i||!i&&o.indexOf("json")>=0?a=U(a):("script"===i||!i&&o.indexOf("javascript")>=0)&&e.globalEval(a)),a};return C}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,d=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),u="string"==typeof c?e.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var p={};if(this.trigger("form-pre-serialize",[this,t,p]),p.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=t.traditional;void 0===h&&(h=e.ajaxSettings.traditional);var f,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,f=e.param(t.data,h)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,p]),p.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,h);f&&(v=v?v+"&"+f:f),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var b=[];if(t.resetForm&&b.push(function(){d.resetForm()}),t.clearForm&&b.push(function(){d.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};b.push(function(i){var n=t.replaceTarget?"replaceWith":"html";e(t.target)[n](i).each(y,arguments)})}else t.success&&b.push(t.success);if(t.success=function(e,i,n){for(var o=t.context||this,r=0,a=b.length;a>r;r++)b[r].apply(o,[e,i,n||d,d])},t.error){var w=t.error;t.error=function(e,i,n){var o=t.context||this;w.apply(o,[e,i,n,d])}}if(t.complete){var k=t.complete;t.complete=function(e,i){var n=t.context||this;k.apply(n,[e,i,d])}}var x=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),$=x.length>0,C="multipart/form-data",_=d.attr("enctype")==C||d.attr("encoding")==C,I=o.fileapi&&o.formdata;n("fileAPI :"+I);var T,S=($||_)&&!I;t.iframe!==!1&&(t.iframe||S)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){T=s(g)}):T=s(g):T=($||_)&&I?a(g):e.ajax(t),d.removeData("jqxhr").data("jqxhr",T);for(var E=0;E<m.length;E++)m[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&e.isFunction(e.fn.on),!o.delegation&&0===this.length){var r={s:this.selector,c:this.context};return!e.isReady&&r.s?(n("DOM not ready, queuing ajaxForm"),e(function(){e(r.s,r.c).ajaxForm(o)}),this):(n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return o.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,o,t).on("click.form-plugin",this.selector,o,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,t).bind("click.form-plugin",o,i)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,i){var n=[];if(0===this.length)return n;var r,a=this[0],s=this.attr("id"),l=t?a.getElementsByTagName("*"):a.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=e(l).get()),s&&(r=e(':input[form="'+s+'"]').get(),r.length&&(l=(l||[]).concat(r))),!l||!l.length)return n;var c,u,d,p,h,f,m;for(c=0,f=l.length;f>c;c++)if(h=l[c],d=h.name,d&&!h.disabled)if(t&&a.clk&&"image"==h.type)a.clk==h&&(n.push({name:d,value:e(h).val(),type:h.type}),n.push({name:d+".x",value:a.clk_x},{name:d+".y",value:a.clk_y}));else if(p=e.fieldValue(h,!0),p&&p.constructor==Array)for(i&&i.push(h),u=0,m=p.length;m>u;u++)n.push({name:d,value:p[u]});else if(o.fileapi&&"file"==h.type){i&&i.push(h);var g=h.files;if(g.length)for(u=0;u<g.length;u++)n.push({name:d,value:g[u],type:h.type});else n.push({name:d,value:"",type:h.type})}else null!==p&&"undefined"!=typeof p&&(i&&i.push(h),n.push({name:d,value:p,type:h.type,required:h.required}));if(!t&&a.clk){var v=e(a.clk),b=v[0];d=b.name,d&&!b.disabled&&"image"==b.type&&(n.push({name:d,value:v.val()}),n.push({name:d+".x",value:a.clk_x},{name:d+".y",value:a.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var n=this.name;if(n){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var r=0,a=o.length;a>r;r++)i.push({name:n,value:o[r]});else null!==o&&"undefined"!=typeof o&&i.push({name:this.name,value:o})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],n=0,o=this.length;o>n;n++){var r=this[n],a=e.fieldValue(r,t);null===a||"undefined"==typeof a||a.constructor==Array&&!a.length||(a.constructor==Array?e.merge(i,a):i.push(a))}return i},e.fieldValue=function(t,i){var n=t.name,o=t.type,r=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var a=t.selectedIndex;if(0>a)return null;for(var s=[],l=t.options,c="select-one"==o,u=c?a+1:l.length,d=c?a:0;u>d;d++){var p=l[d];if(p.selected){var h=p.value;if(h||(h=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),c)return h;s.push(h)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,o=this.tagName.toLowerCase();i.test(n)||"textarea"==o?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(n)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),function(){"use strict";function e(e){function t(t,n){var r,m,g=t==window,v=n&&void 0!==n.message?n.message:void 0;if(n=e.extend({},e.blockUI.defaults,n||{}),!n.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(n.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,n.overlayCSS||{}),r=e.extend({},e.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),m=e.extend({},e.blockUI.defaults.themedCSS,n.themedCSS||{}),v=void 0===v?n.message:v,g&&h&&i(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var b=v.jquery?v[0]:v,y={};e(t).data("blockUI.history",y),y.el=b,y.parent=b.parentNode,y.display=b.style.display,y.position=b.style.position,y.parent&&y.parent.removeChild(b)}e(t).data("blockUI.onUnblock",n.onUnblock);var w,k,x,$,C=n.baseZ;w=e(u||n.forceIframe?'<iframe class="blockUI" style="z-index:'+C++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),k=e(n.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+C++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+C++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&g?($='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:fixed">',n.title&&($+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),$+='<div class="ui-widget-content ui-dialog-content"></div>',$+="</div>"):n.theme?($='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:absolute">',n.title&&($+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),$+='<div class="ui-widget-content ui-dialog-content"></div>',$+="</div>"):$=g?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(C+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(C+10)+';display:none;position:absolute"></div>',x=e($),v&&(n.theme?(x.css(m),x.addClass("ui-widget-content")):x.css(r)),n.theme||k.css(n.overlayCSS),k.css("position",g?"fixed":"absolute"),(u||n.forceIframe)&&w.css("opacity",0);var _=[w,k,x],I=e(g?"body":t);e.each(_,function(){this.appendTo(I)}),n.theme&&n.draggable&&e.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var T=p&&(!e.support.boxModel||e("object,embed",g?null:t).length>0);if(d||T){if(g&&n.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(d||!e.support.boxModel)&&!g)var S=l(t,"borderTopWidth"),E=l(t,"borderLeftWidth"),j=S?"(0 - "+S+")":0,F=E?"(0 - "+E+")":0;e.each(_,function(e,t){var i=t[0].style;if(i.position="absolute",2>e)g?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),
g?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),F&&i.setExpression("left",F),j&&i.setExpression("top",j);else if(n.centerY)g&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!n.centerY&&g){var o=n.css&&n.css.top?parseInt(n.css.top,10):0,r="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+o+') + "px"';i.setExpression("top",r)}})}if(v&&(n.theme?x.find(".ui-widget-content").append(v):x.append(v),(v.jquery||v.nodeType)&&e(v).show()),(u||n.forceIframe)&&n.showOverlay&&w.show(),n.fadeIn){var D=n.onBlock?n.onBlock:c,A=n.showOverlay&&!v?D:c,U=v?D:c;n.showOverlay&&k._fadeIn(n.fadeIn,A),v&&x._fadeIn(n.fadeIn,U)}else n.showOverlay&&k.show(),v&&x.show(),n.onBlock&&n.onBlock.bind(x)();if(o(1,t,n),g?(h=x[0],f=e(n.focusableElements,h),n.focusInput&&setTimeout(a,20)):s(x[0],n.centerX,n.centerY),n.timeout){var O=setTimeout(function(){g?e.unblockUI(n):e(t).unblock(n)},n.timeout);e(t).data("blockUI.timeout",O)}}}function i(t,i){var r,a=t==window,s=e(t),l=s.data("blockUI.history"),c=s.data("blockUI.timeout");c&&(clearTimeout(c),s.removeData("blockUI.timeout")),i=e.extend({},e.blockUI.defaults,i||{}),o(0,t,i),null===i.onUnblock&&(i.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock"));var u;u=a?e("body").children().filter(".blockUI").add("body > .blockUI"):s.find(">.blockUI"),i.cursorReset&&(u.length>1&&(u[1].style.cursor=i.cursorReset),u.length>2&&(u[2].style.cursor=i.cursorReset)),a&&(h=f=null),i.fadeOut?(r=u.length,u.stop().fadeOut(i.fadeOut,function(){0===--r&&n(u,l,i,t)})):n(u,l,i,t)}function n(t,i,n,o){var r=e(o);if(!r.data("blockUI.isBlocked")){t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.el.style.cursor="default",i.parent&&i.parent.appendChild(i.el),r.removeData("blockUI.history")),r.data("blockUI.static")&&r.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(o,n);var a=e(document.body),s=a.width(),l=a[0].style.width;a.width(s-1).width(s),a[0].style.width=l}}function o(t,i,n){var o=i==window,a=e(i);if((t||(!o||h)&&(o||a.data("blockUI.isBlocked")))&&(a.data("blockUI.isBlocked",t),o&&n.bindEvents&&(!t||n.showOverlay))){var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(s,n,r):e(document).unbind(s,r)}}function r(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&h&&t.data.constrainTabKey){var i=f,n=!t.shiftKey&&t.target===i[i.length-1],o=t.shiftKey&&t.target===i[0];if(n||o)return setTimeout(function(){a(o)},10),!1}var r=t.data,s=e(t.target);return s.hasClass("blockOverlay")&&r.onOverlayClick&&r.onOverlayClick(t),s.parents("div."+r.blockMsgClass).length>0?!0:0===s.parents().children().filter("div.blockUI").length}function a(e){if(f){var t=f[e===!0?f.length-1:0];t&&t.focus()}}function s(e,t,i){var n=e.parentNode,o=e.style,r=(n.offsetWidth-e.offsetWidth)/2-l(n,"borderLeftWidth"),a=(n.offsetHeight-e.offsetHeight)/2-l(n,"borderTopWidth");t&&(o.left=r>0?r+"px":"0"),i&&(o.top=a>0?a+"px":"0")}function l(t,i){return parseInt(e.css(t,i),10)||0}e.fn._fadeIn=e.fn.fadeIn;var c=e.noop||function(){},u=/MSIE/.test(navigator.userAgent),d=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),p=(document.documentMode||0,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){i(window,e)},e.growlUI=function(t,i,n,o){var r=e('<div class="growlUI"></div>');t&&r.append("<h1>"+t+"</h1>"),i&&r.append("<h2>"+i+"</h2>"),void 0===n&&(n=3e3);var a=function(t){t=t||{},e.blockUI({message:r,fadeIn:"undefined"!=typeof t.fadeIn?t.fadeIn:700,fadeOut:"undefined"!=typeof t.fadeOut?t.fadeOut:1e3,timeout:"undefined"!=typeof t.timeout?t.timeout:n,centerY:!1,showOverlay:!1,onUnblock:o,css:e.blockUI.defaults.growlCSS})};a();r.css("opacity");r.mouseover(function(){a({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(i){if(this[0]===window)return e.blockUI(i),this;var n=e.extend({},e.blockUI.defaults,i||{});return this.each(function(){var t=e(this);n.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,i)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){i(this,t)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var h=null,f=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}();var utilitiesAjaxRequest=function(e,t,i){var n=$(e);$.ajax({data:$.extend({mode:"async",format:"json"},t),type:"GET",beforeSend:function(){n.block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.6}})},complete:function(){n.unblock()},success:function(e){"object"!=typeof e&&(e=JSON.parse(e)),e&&i&&i(e)}})};if($(function(){"use strict";function e(e){var i=$(e);i.exists()&&i.each(function(){var e,t=i.find(".js-filter-categories-list"),n=t.find(".list__item").not(".is-active"),o=i.find("input"),r=!1;o.on("input",function(){var i=this;n.removeClass("is-hidden"),e=n.filter(function(){return $(this).find(">a").text().toLowerCase().indexOf(i.value.toLowerCase())>-1}),n.not(e).addClass("is-hidden"),e.length||r?e.length&&r&&(r=!1,t.find(".not-found").remove()):(r=!0,t.append('<li class="list__item side-cats__item not-found">&nbsp;<span>Nothing found</span></li>'))})});var n=$(".side-cats__sort .select__control");n.exists()&&t.on("change",".side-cats__sort .select__control",function(){var e=[],t=$("#js-filter-categories-sidebar > ul"),i=t.find("li"),n="",o="";i.last().data("popularity")||(o=i.filter(":last").get(0).outerHTML,i=i.not(":last")),"title"==$(this).val()?(i.each(function(){e.push([$(this).find("a").text().trim().toLowerCase(),$(this).get(0).outerHTML])}),e.sort(function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0})):"avg_videos_popularity"==$(this).val()?(i.each(function(){e.push([$(this).data("popularity"),$(this).get(0).outerHTML])}),e.sort(function(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:0})):"total_videos"==$(this).val()&&(i.each(function(){e.push([$(this).data("totalVideos"),$(this).get(0).outerHTML])}),e.sort(function(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:0})),e.length&&(e.forEach(function(e){n+=e[1]}),t.empty().html(n+o))})}var t=$(document.body),i={},n={};n.page=document.body.className,$.fn.exists=function(){return this.length>0},$.scrollTo=function(e,t){!e instanceof jQuery&&(e=$(e));var i=e.offset().top;$([document.documentElement,document.body]).stop(0,0).animate({scrollTop:i},t)};var o={captcha:null,render:function(){var e=$("#recaptcha2");if(e.exists()&&"number"!=typeof o.captcha){var t=window.grecaptcha.render(e[0],{sitekey:"6LcFvAkTAAAAAA6WnxO2U-RhgxuFf9PBsoHJSj5E","expired-callback":function(){o.reset(),o.render()}});o.captcha=t}},reset:function(){"number"==typeof o.captcha&&(window.grecaptcha.reset(o.captcha),o.captcha=null,$("#recaptcha2").empty())}};window.utilitiesCaptcha=o.render;var r=function(e){var t,i,n,o,r,a,s,l={};if(!e)throw new Error("Invalid number of arguments, expected 1.");if("string"!=typeof e)throw new TypeError('Argument type "'+typeof e+'" is not assignable to parameter type string.');for(t=e.split(";"),o=0,r=t.length;r>o;o++)if(n=t[o].split(":"),2==n.length)for(i=n[0].split("+"),a=0,s=i.length;s>a;a++)l[i[a]]=decodeURIComponent(n[1]).replace(/[+]/g," ");return l},a=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")},s=function(e,t,n,o){var r=$(t),s=o||{},l="#"+e+"_items",c=$(l),u="";$.each(s,function(e,t){u+=e+"="+t+"&"}),u="?"+u,$.ajax({url:window.location.protocol+"//"+window.location.host+document.location.pathname+u,data:$.extend({mode:"async","function":"get_block",block_id:e},s),type:"POST",cache:!1,beforeSend:function(){r.block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.6}}),c&&c.block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.6}}),n.beforeSend&&n.beforeSend(t)},complete:function(){r.unblock(),n.complete&&n.complete(t),c&&c.unblock({})},success:function(o){i[e]=s,delete s.blockId;var r=$.extend({},s),l=document.location.pathname;r.from&&(l=l.replace(/\d+\//,""),l=l+parseInt(s.from,10)+"/",delete r.from),r.category&&l.indexOf(r.category)+1&&delete r.category;var c=a(r),u=window.location.protocol+"//"+window.location.host+l+"?"+c;(!history.state||(new Date).getTime()-history.state.time>1e4&&history.state.url==u||history.state.url!=u)&&(history.state||history.replaceState({url:document.location.href,time:(new Date).getTime()},"",document.location.href),history.pushState({url:u,time:(new Date).getTime()},"",u)),n.success&&n.success(t,o)},error:function(){n.error&&n.error(t)}})},l=function(e,t,n,o){var r=null,a={},l=$("#"+e);if(!e)return void window.location.reload();i[e]&&(r=i[e]),a.success=function(t,a){i[e]=r;var s=o?.4:1;l.animate({opacity:s},400,function(){var t=$(document.createElement("div")).html(a),i=t.children().first();i.css("opacity",s),$(this).replaceWith(i),l=$("#"+e),l.animate({opacity:1},400),n&&c(l)})};var u=0;a.error=function(){u++;var i=!1;for(var n in r)r.hasOwnProperty(n)&&0==n.indexOf("from")&&parseInt(r[n])>1&&(r[n]=parseInt(r[n])-1,u>1&&(r[n]=1),i=!0);i||(r=null),u>1&&delete a.error,s(e,t,a,r)},s(e,t,a,r)},c=function(e,t){if("undefined"==typeof t&&(t=400),e.exists()){var i=$(document).scrollTop(),n=i+$(window).height(),o=e.offset().top;if(o>i&&n>o)return}$.scrollTo(e,t)},u=function(){t.on("click change",'[data-action="ajax"]',function(e){if("click"===e.type&&"SELECT"===this.tagName)return!1;e.preventDefault();var t,i,o,a,l,u,d,p;if(t={},i=$(this),o=i.data("append-items-to"),a=parseInt(i.data("max-queries"))||0,l=i.data("block-id")){if(u=i.data("container-id"),a&&o){var h=parseInt($("#"+o).data("current-queries"))||0;if(!(a>h))return;h++,h==a?$("#"+u).remove():$("#"+o).data("current-queries",h)}i.hasClass("js-native-select")?(console.log(i.val()),d=r(i.val())):d=r(i.data("parameters")),p="",n&&n.userId&&(p=n.userId+":"),t.success=function(e,t){var i=document.createElement("div");if(i.innerHTML=t,o){if(u){var n=$("#"+u),r=$(i).find(n);r.exists()?n.replaceWith(r):n.remove()}var a=$(i).find("#"+o+" .thumb-grid__item");a.hide(),a.insertAfter($("#"+o).find(".thumb-grid__item").last()),a.fadeIn()}else{var s=$("#"+l),d=$(i).find("#"+l);s.animate({opacity:.1},400,function(){d.css("opacity","0.1"),$(this).replaceWith(d),s=$("#"+l),s.animate({opacity:1},400),c(s)})}},s(l,u?$("#"+u):i,t,d),Object.keys(d).indexOf("from")>=0}}),window.onpopstate=function(e){e.state.url&&(location.href=e.state.url)}},d=function(e,t){var i=function(e,t){var i=e.parents(".modal-content");i.exists()&&(e=i),t?e.block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.6}}):e.unblock()},o="Unexpected server response received. Please contact support.";n&&n.server_error&&(o=n.server_error),e.ajaxSubmit({data:{format:"json",mode:"async"},beforeSerialize:function(){var i=e.find("[data-form-populate-from]");i.each(function(){var t,i=$(this),n=i.data("form-populate-from");n&&(t=e.find('[name="'+n+'"]'),t.exists()&&i.val(t.val()))}),t&&t.beforeSerialize&&t.beforeSerialize(e)},beforeSubmit:function(n){var o=!0;return t&&t.beforeSubmit&&(o=t.beforeSubmit(e,n)),i(e,o),o},uploadProgress:function(i,n,o,r){t&&t.uploadProgress&&t.uploadProgress(e,r)},success:function(n,r,a){e.find(".generic-error").empty().hide(),i(e,!1);var s={json:function(){if("object"!=typeof n&&(n=JSON.parse(n)),"failure"==n.status){for(var i=0,r=n.errors.length;r>i;i++)$('[name="'+n.errors[i].field+'"]',e).closest("div").find(".js-field-message-error").removeClass("is-hidden");t&&t.error&&t.error(e),c(e,0)}else if("success"==n.status)if(t&&t.success)t.success(e,n.data);else if(n.redirect)window.location=n.redirect;else{var a=$("[data-reload-to]");a.exists()?window.location=a.data("reload-to"):window.location.reload()}else e.find(".generic-error").text(o).fadeIn(),c(e,0),t&&t.error&&t.error(e)},html:function(){if(t&&t.success)t.success(e,n);else{var i=$(n);if("message"==i.data("modal")||i.find('[data-modal="message"]').exists()){var o=$("#modal-ajax");o.one("show.bs.modal",function(){var e=$(this);e.find(".modal-content").html(i)}),o.one("hide.bs.modal",function(){var e=$(this),t=e.find("[data-modal-redirect-to]");t.exists()?window.location=t.data("modal-redirect-to"):window.location.reload(),e.find(".modal-content").empty(),e.find(".modal-dialog").removeClass().addClass("modal-dialog")}),o.modal("show")}else e.empty().append(n)}},error:function(){e.find(".generic-error").text(o).removeClass("hidden"),c(e,0),t&&t.error&&t.error(e)}};a.getResponseHeader("Content-Type").indexOf("application/json")>=0?s.json():a.getResponseHeader("Content-Type").indexOf("text/html")>=0?s.html():s.error()},error:function(){i(e,!1),e.find(".generic-error").text(o).fadeIn(),c(e,0),t&&t.error&&t.error(e)},complete:function(){t&&t.complete&&t.complete(e)}}),window.onpopstate=function(e){e.state.url&&(location.href=e.state.url)}};u();var p=function(){var e=$(".js-block-comments"),t=e.find(".js-block-new-comment"),i=e.data("block-id");if(e.exists()&&t.exists()){var n=e.find("form");n.exists()&&$("#comments").on("submit",".js-comments-form",function(){$(".js-field-message-error").addClass("is-hidden");var e=$('[name="comment"]',this).val().trim(),t=$('[name="g-recaptcha-response"]',this);if(!e.length)return console.log($("#comment_error_1",this)),$("#comment_error_1",this).removeClass("is-hidden"),!1;if(t.length&&!t.val().length)return $("#code_error_5",this).removeClass("is-hidden"),!1;var n=$(this);return d(n,{success:function(e,t){var n={success:function(e,i){$("#comments").empty().html($(i).html()),o.reset(),o.render(),$("#comments").find("[name=code_img]").attr("src",$("#comments").find("img").attr("src")+"&v="+Date.now()),$(".control-group .counts").text($(i).find(".comments-list__item").length),t.approved||$("#ac_block_success").removeClass("is-hidden")}};s(i,null,n)}}),!1})}};p(),$("body").on("focus",'.list-selector [type="text"]',function(){var e=$(this),t=e.closest(".list-selector"),i=t.data("selector"),n=t.data("name"),o=(t.data("selected")||"").split(",");t.find(".list-selector-popup").exists()?t.find(".list-selector-popup").show():i&&n&&$.ajax({url:i,beforeSend:function(){e.block({message:null})},complete:function(){e.unblock()},success:function(i){for(var r=[],a=[],s=$(i),l=s.find("> .list-selector-popup__filter > .form-control"),c=0,u=o.length;u>c;c++){var d=o[c].trim();if(d){var p=s.find('input[type="checkbox"][value="'+d+'"]'),h=p.next();p.prop("checked",!0),r.push(d),a.push(h.html())}}t.append(s),s.find('input[type="checkbox"]').on({click:function(){var i=$(this),o=0,s=i.next();if(s.html()){var l=i.prop("value");if(i.prop("checked")){var c=i.closest(".clearfix").siblings(".clearfix").find(":checkbox:checked");c.click(),r.push(l),a.push(s.html()),t.append($('<input type="hidden" name="'+n+'[]" value="'+l+'">'))}else{for(o=0,u=r.length;u>o;o++)if(r[o]==l){r.splice(o,1),a.splice(o,1);break}t.find('input[type="hidden"][value="'+l+'"]').remove()}var d="";for(o=0,u=a.length;u>o;o++)""!=d&&(d+=", "),d+=a[o];e.prop("value",d).change()}}});var f=t.find(".checkbox");l.on("input",$.debounce(function(){var e=this.value.toLowerCase();""==e&&f.removeClass("hidden"),f.each(function(){var t=$(this);t.find("label").text().toLowerCase().indexOf(e)>=0?t.removeClass("hidden"):t.addClass("hidden")})},300)),$(document).on("mouseup.list-selector",function(e){t.is(e.target)||0!==t.has(e.target).length||s.hide()})}})}),$("body").on("submit",'[data-form="ajax"]',function(){return d($(this)),!1}),t.on("change",'[data-action="categories-ajax"] :checkbox',function(){var e=$(this).closest('[data-action="categories-ajax"]'),t=e.data("block-ids").split(","),n={};e.find("input").each(function(){var e=$(this);if("hidden"==e.prop("type")||"checkbox"==e.prop("type")&&e.prop("checked"))if(e.prop("name").indexOf("[]")>0){var t=e.prop("name").replace("[]","");n[t]=e.prop("value")+(n[t]?","+n[t]:"")}else n[e.prop("name")]=e.prop("value")});for(var o in n)"all"==n[o]&&delete n[o];"category_dirs"in n&&(n.category_dirs+=",all"),0==n.length&&(n=null);for(var r=0;r<t.length;r++)i[t[r]]=n,$("#"+t[r]).block({message:null,css:{backgroundColor:"#fff",opacity:".7"}}),l(t[r],e,!1,!0)}),t.on("click",'[data-type="a-in-label"]',function(e){e.preventDefault(),$(this).parent().click()}),t.on("change","[data-search-filter-ids] :checkbox",function(){var e=$(this),t=e.closest("[data-search-filter-ids]"),n=t.data("search-filter-ids").split(","),o={};e.is(":checked")?e.closest(".list__item").addClass(".is-active").find('[data-type="a-in-label"]').text("—"):e.closest(".lis__-item").removeClass(".is-active").find('[data-type="a-in-label"]').text("+"),t.find("input").each(function(){var e=$(this);if("hidden"==e.prop("type")||"checkbox"==e.prop("type")&&e.prop("checked"))if(e.prop("name").indexOf("[]")>0){var t=e.prop("name").replace("[]","");o[t]=e.prop("value")+(o[t]?","+o[t]:"")}else o[e.prop("name")]=e.prop("value")});for(var r in o)o.hasOwnProperty(r)&&"all"==o[r]&&delete o[r];for(var a=0,s=n.length;s>a;a++)i[n[a]]=o,l(n[a],t,!1,!0)}),$('[id*="js-filter-categories-"]').each(function(){e(this)})}),$("#myFormDrop").length){var myFormDrop=new Dropzone("#myFormDrop",{url:"/admin/include/uploader_nginx.php",paramName:"content",clickable:".needsclick",acceptedFiles:".3gp,.mp4,.mov,.asf,.flv,.mpg,.avi,.mpeg,.wmv,.rm,.dat,.mkv,.vob,.m2v,.f4v,.m4v,.m2t,.mts,.webm",accept:function(e,t){var i=e.name,n=Math.max(i.lastIndexOf("/"),i.lastIndexOf("\\"));n>=0&&(n==i.length-1&&t("The field is required"),i=i.substring(n+1));var o=(new KTMD5Encoder).encode(i+"_"+(new Date).getTime());$("#js-uploader-step-1").addClass("is-hidden"),$("#js-uploader-step-2").removeClass("is-hidden"),$("#postFileName").val(o),$("#file_name").val(i),$("#js-upload-file-name").text(i),$("#file_hash").val(o),this.options.url=this.options.url+"?filename="+o+"&X-Progress-ID="+o,t()}});myFormDrop.on("success",function(){$("[data-dz-uploadprogress]").removeClass("is-active").addClass("is-complete")}),$(".js-upload-url").click(function(e){e.preventDefault(),e.stopPropagation();var t,i=$("[name=url]").val();return null!=i.match(/http:\/\/.{10,}/)?(t=(new KTMD5Encoder).encode(i+"_"+(new Date).getTime()),window.videoEditPopupCallback.start(i,t,!0,1),$.ajax({url:"/admin/include/uploader.php",type:"POST",data:{url:i,filename:t}}),$("#js-uploader-step-1").addClass("is-hidden"),$("#js-uploader-step-2").removeClass("is-hidden"),$("#js-upload-file-name").text(i),!0):void 0})}!function(e){if("function"==typeof define&&define.amd&&define("uikit",function(){var t=window.UIkit||e(window,window.jQuery,window.document);return t.load=function(e,i,n,o){var r,a=e.split(","),s=[],l=(o.config&&o.config.uikit&&o.config.uikit.base?o.config.uikit.base:"").replace(/\/+$/g,"");if(!l)throw new Error("Please define base path to UIkit in the requirejs config.");for(r=0;r<a.length;r+=1){var c=a[r].replace(/\./g,"/");s.push(l+"/components/"+c)}i(s,function(){n(t)})},t}),!window.jQuery)throw new Error("UIkit requires jQuery");window&&window.jQuery&&e(window,window.jQuery,window.document)}(function(e,t,i){"use strict";var n={},o=e.UIkit?Object.create(e.UIkit):void 0;if(n.version="2.21.0",n.noConflict=function(){return o&&(e.UIkit=o,t.UIkit=o,t.fn.uk=o.fn),n},n.prefix=function(e){return e},n.$=t,n.$doc=n.$(document),n.$win=n.$(window),n.$html=n.$("html"),n.support={},n.support.transition=function(){var e=function(){var e,t=i.body||i.documentElement,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}(),n.support.animation=function(){var e=function(){var e,t=i.body||i.documentElement,n={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}(),function(){var t=0;e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||function(i,n){var o=(new Date).getTime(),r=Math.max(0,16-(o-t)),a=e.setTimeout(function(){i(o+r)},r);return t=o+r,a},e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}(),n.support.touch="ontouchstart"in document||e.DocumentTouch&&document instanceof e.DocumentTouch||e.navigator.msPointerEnabled&&e.navigator.msMaxTouchPoints>0||e.navigator.pointerEnabled&&e.navigator.maxTouchPoints>0||!1,n.support.mutationobserver=e.MutationObserver||e.WebKitMutationObserver||null,n.Utils={},n.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},n.Utils.str2json=function(e,t){try{return t?JSON.parse(e.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})):new Function("","var json = "+e+"; return JSON.parse(JSON.stringify(json));")()}catch(i){return!1}},n.Utils.debounce=function(e,t,i){var n;return function(){var o=this,r=arguments,a=function(){n=null,i||e.apply(o,r)},s=i&&!n;clearTimeout(n),n=setTimeout(a,t),s&&e.apply(o,r)}},n.Utils.removeCssRules=function(e){var t,i,n,o,r,a,s,l,c,u;e&&setTimeout(function(){try{for(u=document.styleSheets,o=0,s=u.length;s>o;o++){for(n=u[o],i=[],n.cssRules=n.cssRules,t=r=0,l=n.cssRules.length;l>r;t=++r)n.cssRules[t].type===CSSRule.STYLE_RULE&&e.test(n.cssRules[t].selectorText)&&i.unshift(t);for(a=0,c=i.length;c>a;a++)n.deleteRule(i[a])}}catch(d){}},0)},n.Utils.isInView=function(e,i){var o=t(e);if(!o.is(":visible"))return!1;var r=n.$win.scrollLeft(),a=n.$win.scrollTop(),s=o.offset(),l=s.left,c=s.top;return i=t.extend({topoffset:0,leftoffset:0},i),c+o.height()>=a&&c-i.topoffset<=a+n.$win.height()&&l+o.width()>=r&&l-i.leftoffset<=r+n.$win.width()?!0:!1},n.Utils.checkDisplay=function(e,i){var o=n.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",e||document);return e&&!o.length&&(o=t(e)),o.trigger("display.uk.check"),i&&("string"!=typeof i&&(i='[class*="uk-animation-"]'),o.find(i).each(function(){var e=n.$(this),t=e.attr("class"),i=t.match(/uk\-animation\-(.+)/);e.removeClass(i[0]).width(),e.addClass(i[0])})),o},n.Utils.options=function(e){if(t.isPlainObject(e))return e;var i=e?e.indexOf("{"):-1,o={};if(-1!=i)try{o=n.Utils.str2json(e.substr(i))}catch(r){}return o},n.Utils.animate=function(e,i){var o=t.Deferred();return e=n.$(e),i=i,e.css("display","none").addClass(i).one(n.support.animation.end,function(){e.removeClass(i),o.resolve()}).width(),e.css("display",""),o.promise()},n.Utils.uid=function(e){return(e||"id")+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random())},n.Utils.template=function(e,t){for(var i,n,o,r,a=e.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),s=0,l=[],c=0;s<a.length;){if(i=a[s],i.match(/\{\{\s*(.+?)\s*\}\}/))switch(s+=1,i=a[s],n=i[0],o=i.substring(i.match(/^(\^|\#|\!|\~|\:)/)?1:0),n){case"~":l.push("for(var $i=0;$i<"+o+".length;$i++) { var $item = "+o+"[$i];"),c++;break;case":":l.push("for(var $key in "+o+") { var $val = "+o+"[$key];"),c++;break;case"#":l.push("if("+o+") {"),c++;break;case"^":l.push("if(!"+o+") {"),c++;break;case"/":l.push("}"),c--;break;case"!":l.push("__ret.push("+o+");");break;default:l.push("__ret.push(escape("+o+"));")}else l.push("__ret.push('"+i.replace(/\'/g,"\\'")+"');");s+=1}return r=new Function("$data",["var __ret = [];","try {","with($data){",c?'__ret = ["Not all blocks are closed correctly."]':l.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',"function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}"].join("\n")),t?r(t):r},n.Utils.events={},n.Utils.events.click=n.support.touch?"tap":"click",e.UIkit=n,n.fn=function(e,i){var o=arguments,r=e.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),a=r[1],s=r[2];return n[a]?this.each(function(){var e=t(this),r=e.data(a);r||e.data(a,r=n[a](this,s?void 0:i)),s&&r[s].apply(r,Array.prototype.slice.call(o,1))}):(t.error("UIkit component ["+a+"] does not exist."),this)},t.UIkit=n,t.fn.uk=n.fn,n.langdirection="rtl"==n.$html.attr("dir")?"right":"left",n.components={},n.component=function(e,i){var o=function(i,r){var a=this;return this.UIkit=n,this.element=i?n.$(i):null,this.options=t.extend(!0,{},this.defaults,r),this.plugins={},this.element&&this.element.data(e,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(o.plugins)).forEach(function(e){o.plugins[e].init&&(o.plugins[e].init(a),a.plugins[e]=!0)}),this.trigger("init.uk.component",[e,this]),this};return o.plugins={},t.extend(!0,o.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(e,t,i){return n.$(this.element||this).on(e,t,i)},one:function(e,t,i){return n.$(this.element||this).one(e,t,i)},off:function(e){return n.$(this.element||this).off(e)},trigger:function(e,t){return n.$(this.element||this).trigger(e,t)},find:function(e){return n.$(this.element?this.element:[]).find(e)},proxy:function(e,t){var i=this;t.split(" ").forEach(function(t){i[t]||(i[t]=function(){return e[t].apply(e,arguments)})})},mixin:function(e,t){var i=this;t.split(" ").forEach(function(t){i[t]||(i[t]=e[t].bind(i))})},option:function(){return 1==arguments.length?this.options[arguments[0]]||void 0:void(2==arguments.length&&(this.options[arguments[0]]=arguments[1]))}},i),this.components[e]=o,this[e]=function(){var i,o;if(arguments.length)switch(arguments.length){case 1:"string"==typeof arguments[0]||arguments[0].nodeType||arguments[0]instanceof jQuery?i=t(arguments[0]):o=arguments[0];break;case 2:i=t(arguments[0]),o=arguments[1]}return i&&i.data(e)?i.data(e):new n.components[e](i,o)},n.domready&&n.component.boot(e),o},n.plugin=function(e,t,i){this.components[e].plugins[t]=i},n.component.boot=function(e){n.components[e].prototype&&n.components[e].prototype.boot&&!n.components[e].booted&&(n.components[e].prototype.boot.apply(n,[]),n.components[e].booted=!0)},n.component.bootComponents=function(){for(var e in n.components)n.component.boot(e)},n.domObservers=[],n.domready=!1,n.ready=function(e){n.domObservers.push(e),n.domready&&e(document)},n.on=function(e,t,i){return e&&e.indexOf("ready.uk.dom")>-1&&n.domready&&t.apply(n.$doc),n.$doc.on(e,t,i)},n.one=function(e,t,i){return e&&e.indexOf("ready.uk.dom")>-1&&n.domready?(t.apply(n.$doc),n.$doc):n.$doc.one(e,t,i)},n.trigger=function(e,t){return n.$doc.trigger(e,t)},n.domObserve=function(e,t){n.support.mutationobserver&&(t=t||function(){},n.$(e).each(function(){var e=this,i=n.$(e);if(!i.data("observer"))try{var o=new n.support.mutationobserver(n.Utils.debounce(function(n){t.apply(e,[]),i.trigger("changed.uk.dom")},50));o.observe(e,{childList:!0,subtree:!0}),i.data("observer",o)}catch(r){}}))},n.init=function(e){e=e||document,n.domObservers.forEach(function(t){t(e)})},n.on("domready.uk.dom",function(){n.init(),n.domready&&n.Utils.checkDisplay()}),t(function(){n.$body=n.$("body"),n.ready(function(e){n.domObserve("[data-uk-observe]")}),n.on("changed.uk.dom",function(e){n.init(e.target),n.Utils.checkDisplay(e.target)}),n.trigger("beforeready.uk.dom"),n.component.bootComponents(),setInterval(function(){var e,t={x:window.pageXOffset,y:window.pageYOffset},i=function(){(t.x!=window.pageXOffset||t.y!=window.pageYOffset)&&(e={x:0,y:0},window.pageXOffset!=t.x&&(e.x=window.pageXOffset>t.x?1:-1),window.pageYOffset!=t.y&&(e.y=window.pageYOffset>t.y?1:-1),t={dir:e,x:window.pageXOffset,y:window.pageYOffset},n.$doc.trigger("scrolling.uk.document",[t]))};return n.support.touch&&n.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",i),(t.x||t.y)&&i(),i}(),15),n.trigger("domready.uk.dom"),n.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&n.$win.on("load orientationchange resize",n.Utils.debounce(function(){var e=function(){return t(".uk-height-viewport").css("height",window.innerHeight),e};return e()}(),100)),n.trigger("afterready.uk.dom"),n.domready=!0}),n.$html.addClass(n.support.touch?"uk-touch":"uk-notouch"),n.support.touch){var r,a=!1,s="uk-hover",l=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";n.$html.on("touchstart MSPointerDown pointerdown",l,function(){a&&t("."+s).removeClass(s),a=t(this).addClass(s)}).on("touchend MSPointerUp pointerup",function(e){r=t(e.target).parents(l),a&&a.not(r).removeClass(s)})}return n}),function(e){function t(e,t,i,n){return Math.abs(e-t)>=Math.abs(i-n)?e-t>0?"Left":"Right":i-n>0?"Up":"Down"}function i(){c=null,d.last&&(d.el.trigger("longTap"),d={})}function n(){c&&clearTimeout(c),c=null}function o(){a&&clearTimeout(a),s&&clearTimeout(s),l&&clearTimeout(l),c&&clearTimeout(c),a=s=l=c=null,d={}}function r(e){return e.pointerType==e.MSPOINTER_TYPE_TOUCH&&e.isPrimary}if(!e.fn.swipeLeft){var a,s,l,c,u,d={},p=750;e(function(){var h,f,m,g=0,v=0;"MSGesture"in window&&(u=new MSGesture,u.target=document.body),e(document).on("MSGestureEnd gestureend",function(e){var t=e.originalEvent.velocityX>1?"Right":e.originalEvent.velocityX<-1?"Left":e.originalEvent.velocityY>1?"Down":e.originalEvent.velocityY<-1?"Up":null;t&&(d.el.trigger("swipe"),d.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){("MSPointerDown"!=t.type||r(t.originalEvent))&&(m="MSPointerDown"==t.type||"pointerdown"==t.type?t:t.originalEvent.touches[0],h=Date.now(),f=h-(d.last||h),d.el=e("tagName"in m.target?m.target:m.target.parentNode),a&&clearTimeout(a),d.x1=m.pageX,d.y1=m.pageY,f>0&&250>=f&&(d.isDoubleTap=!0),d.last=h,c=setTimeout(i,p),!u||"MSPointerDown"!=t.type&&"pointerdown"!=t.type&&"touchstart"!=t.type||u.addPointer(t.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){("MSPointerMove"!=e.type||r(e.originalEvent))&&(m="MSPointerMove"==e.type||"pointermove"==e.type?e:e.originalEvent.touches[0],n(),d.x2=m.pageX,d.y2=m.pageY,g+=Math.abs(d.x1-d.x2),v+=Math.abs(d.y1-d.y2))}).on("touchend MSPointerUp pointerup",function(i){("MSPointerUp"!=i.type||r(i.originalEvent))&&(n(),d.x2&&Math.abs(d.x1-d.x2)>30||d.y2&&Math.abs(d.y1-d.y2)>30?l=setTimeout(function(){d.el.trigger("swipe"),d.el.trigger("swipe"+t(d.x1,d.x2,d.y1,d.y2)),d={}},0):"last"in d&&(isNaN(g)||30>g&&30>v?s=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=o,d.el.trigger(t),d.isDoubleTap?(d.el.trigger("doubleTap"),d={}):a=setTimeout(function(){
a=null,d.el.trigger("singleTap"),d={}},250)},0):d={},g=v=0))}).on("touchcancel MSPointerCancel",o),e(window).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(i){return e(this).on(t,i)}})}}(jQuery),function(e){"use strict";var t,i=!1;e.component("dropdown",{defaults:{mode:"hover",remaintime:800,justify:!1,boundary:e.$win,delay:0,hoverDelayIdle:250,selectable:!1},remainIdle:!1,boot:function(){var t=e.support.touch?"click":"mouseenter";e.$html.on(t+".dropdown.uikit","[data-uk-dropdown]",function(i){var n=e.$(this);if(!n.data("dropdown")){var o=e.dropdown(n,e.Utils.options(n.attr("data-uk-dropdown")));("click"==t||"mouseenter"==t&&"hover"==o.options.mode)&&o.element.trigger(t),o.element.find(".uk-dropdown").length&&i.preventDefault()}})},init:function(){var n=this;this.dropdown=this.find(".uk-dropdown"),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=this.options.justify?e.$(this.options.justify):!1,this.boundary=e.$(this.options.boundary),this.flipped=this.dropdown.hasClass("uk-dropdown-flip"),this.boundary.length||(this.boundary=e.$win),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),"click"==this.options.mode||e.support.touch?this.on("click.uikit.dropdown",function(t){var i=e.$(t.target);i.parents(".uk-dropdown").length||((i.is("a[href='#']")||i.parent().is("a[href='#']")||n.dropdown.length&&!n.dropdown.is(":visible"))&&t.preventDefault(),i.blur()),n.element.hasClass("uk-open")?(i.is("a:not(.js-uk-prevent)")||i.is(".uk-dropdown-close")||!n.dropdown.find(t.target).length)&&n.hide():n.show()}):this.on("mouseenter",function(e){n.remainIdle&&clearTimeout(n.remainIdle),t&&clearTimeout(t),i&&i==n||(t=i&&i!=n?setTimeout(function(){t=setTimeout(n.show.bind(n),n.options.delay)},n.options.hoverDelayIdle):setTimeout(n.show.bind(n),n.options.delay))}).on("mouseleave",function(){t&&clearTimeout(t),n.remainIdle=setTimeout(function(){i&&i==n&&n.hide()},n.options.remaintime)}).on("click",function(t){var i=e.$(t.target);n.remainIdle&&clearTimeout(n.remainIdle),(i.is("a[href='#']")||i.parent().is("a[href='#']"))&&t.preventDefault(),n.show()})},show:function(){e.$html.off("click.outer.dropdown"),i&&i!=this&&i.hide(),t&&clearTimeout(t),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.trigger("show.uk.dropdown",[this]),e.Utils.checkDisplay(this.dropdown,!0),i=this,this.registerOuterClick()},hide:function(){this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.trigger("hide.uk.dropdown",[this]),i==this&&(i=!1)},registerOuterClick:function(){var n=this;e.$html.off("click.outer.dropdown"),setTimeout(function(){e.$html.on("click.outer.dropdown",function(o){t&&clearTimeout(t);var r=e.$(o.target);i!=n||!r.is("a:not(.js-uk-prevent)")&&!r.is(".uk-dropdown-close")&&n.dropdown.find(o.target).length||(n.hide(),e.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.justified&&this.justified.length&&this.dropdown.css("min-width","");var t=this,i=this.dropdown.css("margin-"+e.langdirection,""),n=i.show().offset(),o=i.outerWidth(),r=this.boundary.width(),a=this.boundary.offset()?this.boundary.offset().left:0;if(this.centered&&(i.css("margin-"+e.langdirection,-1*(parseFloat(o)/2-i.parent().width()/2)),n=i.offset(),(o+n.left>r||n.left<0)&&(i.css("margin-"+e.langdirection,""),n=i.offset())),this.justified&&this.justified.length){var s=this.justified.outerWidth();if(i.css("min-width",s),"right"==e.langdirection){var l=r-(this.justified.offset().left+s),c=r-(i.offset().left+i.outerWidth());i.css("margin-right",l-c)}else i.css("margin-left",this.justified.offset().left-n.left);n=i.offset()}o+(n.left-a)>r&&(i.addClass("uk-dropdown-flip"),n=i.offset()),n.left-a<0&&(i.addClass("uk-dropdown-stack"),i.hasClass("uk-dropdown-flip")&&(this.flipped||(i.removeClass("uk-dropdown-flip"),n=i.offset(),i.addClass("uk-dropdown-flip")),setTimeout(function(){(i.offset().left-a<0||!t.flipped&&i.outerWidth()+(n.left-a)<r)&&i.removeClass("uk-dropdown-flip")},0)),this.trigger("stack.uk.dropdown",[this])),i.css("display","")}}})}(UIkit),function(e){"use strict";var t=[];e.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){e.ready(function(i){e.$("[data-uk-toggle]",i).each(function(){var t=e.$(this);if(!t.data("toggle")){e.toggle(t,e.Utils.options(t.attr("data-uk-toggle")))}}),setTimeout(function(){t.forEach(function(e){e.getToggles()})},0)})},init:function(){var e=this;this.aria=-1!==this.options.cls.indexOf("uk-hidden"),this.getToggles(),this.on("click",function(t){e.element.is('a[href="#"]')&&t.preventDefault(),e.toggle()}),t.push(this)},toggle:function(){if(this.totoggle.length){if(this.options.animation&&e.support.animation){var t=this,i=this.options.animation.split(",");1==i.length&&(i[1]=i[0]),i[0]=i[0].trim(),i[1]=i[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.hasClass(this.options.cls)?(this.totoggle.toggleClass(this.options.cls),this.totoggle.each(function(){e.Utils.animate(this,i[0]).then(function(){e.$(this).css("animation-duration",""),e.Utils.checkDisplay(this)})})):this.totoggle.each(function(){e.Utils.animate(this,i[1]+" uk-animation-reverse").then(function(){e.$(this).toggleClass(t.options.cls).css("animation-duration",""),e.Utils.checkDisplay(this)}.bind(this))})}else this.totoggle.toggleClass(this.options.cls),e.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?e.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.each(function(){e.$(this).attr("aria-hidden",e.$(this).hasClass("uk-hidden"))})}})}(UIkit),function(e){"use strict";function t(t,i){return i?("object"==typeof t?(t=t instanceof jQuery?t:e.$(t),t.parent().length&&(i.persist=t,i.persist.data("modalPersistParent",t.parent()))):t="string"==typeof t||"number"==typeof t?e.$("<div></div>").html(t):e.$("<div></div>").html("UIkit.modal Error: Unsupported data type: "+typeof t),t.appendTo(i.element.find(".uk-modal-dialog")),i):void 0}var i,n=!1,o=0,r=e.$html;e.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,init:function(){if(i||(i=e.$("body")),this.element.length){var t=this;this.paddingdir="padding-"+("left"==e.langdirection?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(e){e.preventDefault(),t.hide()}).on("click",function(i){var n=e.$(i.target);n[0]==t.element[0]&&t.options.bgclose&&t.hide()})}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){if(!this.isActive())return this.options.modal&&n&&n.hide(!0),this.element.removeClass("uk-open").show(),this.resize(),this.options.modal&&(n=this),this.active=!0,o++,this.element.addClass("uk-open"),r.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),e.Utils.checkDisplay(this.dialog,!0),this}},hide:function(t){if(!t&&e.support.transition){var i=this;this.one(e.support.transition.end,function(){i._hide()}).removeClass("uk-open")}else this._hide();return this},resize:function(){var e=i.width();if(this.scrollbarwidth=window.innerWidth-e,i.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var t=this.dialog.outerHeight(),n=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);t+n<window.innerHeight?this.dialog.css({top:window.innerHeight/2-t/2-n}):this.dialog.css({top:""})}},updateScrollable:function(){var e=this.dialog.find(".uk-overflow-container:visible:first");if(e.length){e.css("height",0);var t=Math.abs(parseInt(this.dialog.css("margin-top"),10)),i=this.dialog.outerHeight(),n=window.innerHeight,o=n-2*(20>t?20:t)-i;return e.css("height",o<this.options.minScrollHeight?"":o),!0}return!1},_hide:function(){this.active=!1,o--,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),o||(r.removeClass("uk-modal-page"),i.css(this.paddingdir,"")),n===this&&(n=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.active}}),e.component("modalTrigger",{boot:function(){e.$html.on("click.modal.uikit","[data-uk-modal]",function(t){var i=e.$(this);if(i.is("a")&&t.preventDefault(),!i.data("modalTrigger")){var n=e.modalTrigger(i,e.Utils.options(i.attr("data-uk-modal")));n.show()}}),e.$html.on("keydown.modal.uikit",function(e){n&&27===e.keyCode&&n.options.keyboard&&(e.preventDefault(),n.hide())}),e.$win.on("resize orientationchange",e.Utils.debounce(function(){n&&n.resize()},150))},init:function(){var t=this;this.options=e.$.extend({target:t.element.is("a")?t.element.attr("href"):!1},this.options),this.modal=e.modal(this.options.target,this.options),this.on("click",function(e){e.preventDefault(),t.show()}),this.proxy(this.modal,"show hide isActive")}}),e.modal.dialog=function(i,n){var o=e.modal(e.$(e.modal.dialog.template).appendTo("body"),n);return o.on("hide.uk.modal",function(){o.persist&&(o.persist.appendTo(o.persist.data("modalPersistParent")),o.persist=!1),o.element.remove()}),t(i,o),o},e.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',e.modal.alert=function(t,i){i=e.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:e.modal.labels},i);var n=e.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(t)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+i.labels.Ok+"</button></div>"].join(""),i);n.on("show.uk.modal",function(){setTimeout(function(){n.element.find("button:first").focus()},50)}),n.show()},e.modal.confirm=function(t,i,n){i=e.$.isFunction(i)?i:function(){},n=e.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:e.modal.labels},n);var o=e.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(t)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary js-modal-confirm">'+n.labels.Ok+'</button> <button class="uk-button uk-modal-close">'+n.labels.Cancel+"</button></div>"].join(""),n);o.element.find(".js-modal-confirm").on("click",function(){i(),o.hide()}),o.on("show.uk.modal",function(){setTimeout(function(){o.element.find("button:first").focus()},50)}),o.show()},e.modal.prompt=function(t,i,n,o){n=e.$.isFunction(n)?n:function(e){},o=e.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:e.modal.labels},o);var r=e.modal.dialog([t?'<div class="uk-modal-content uk-form">'+String(t)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary js-modal-ok">'+o.labels.Ok+'</button> <button class="uk-button uk-modal-close">'+o.labels.Cancel+"</button></div>"].join(""),o),a=r.element.find("input[type='text']").val(i||"").on("keyup",function(e){13==e.keyCode&&r.element.find(".js-modal-ok").trigger("click")});r.element.find(".js-modal-ok").on("click",function(){n(a.val())!==!1&&r.hide()}),r.on("show.uk.modal",function(){setTimeout(function(){a.focus()},50)}),r.show()},e.modal.blockUI=function(t,i){var n=e.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(t||'<div class="uk-text-center">...</div>')+"</div>"].join(""),e.$.extend({bgclose:!1,keyboard:!1,modal:!1},i));return n.content=n.element.find(".uk-modal-content:first"),n.show(),n},e.modal.labels={Ok:"Ok",Cancel:"Cancel"}}(UIkit),function(e){var t;window.UIkit&&(t=e(UIkit)),"function"==typeof define&&define.amd&&define("uikit-notify",["uikit"],function(){return t||e(UIkit)})}(function(e){"use strict";var t={},i={},n=function(t){return"string"==e.$.type(t)&&(t={message:t}),arguments[1]&&(t=e.$.extend(t,"string"==e.$.type(arguments[1])?{status:arguments[1]}:arguments[1])),new r(t).show()},o=function(e,t){var n;if(e)for(n in i)e===i[n].group&&i[n].close(t);else for(n in i)i[n].close(t)},r=function(n){this.options=e.$.extend({},r.defaults,n),this.uuid=e.Utils.uid("notifymsg"),this.element=e.$(['<div class="uk-notify-message notify">','<a class="uk-close"></a>','<div class="notify__content"></div>',"</div>"].join("")).data("notifyMessage",this),this.content(this.options.message),this.options.status&&(this.element.addClass("uk-notify-message-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,i[this.uuid]=this,t[this.options.pos]||(t[this.options.pos]=e.$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){var t=e.$(this).data("notifyMessage");t.element.trigger("manualclose.uk.notify",[t]),t.close()}))};return e.$.extend(r.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var e=this;t[this.options.pos].show().prepend(this.element);var i=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0}).animate({opacity:1,"margin-top":0,"margin-bottom":i},function(){if(e.options.timeout){var t=function(){e.close()};e.timeout=setTimeout(t,e.options.timeout),e.element.hover(function(){clearTimeout(e.timeout)},function(){e.timeout=setTimeout(t,e.options.timeout)})}}),this}},close:function(e){var n=this,o=function(){n.element.remove(),t[n.options.pos].children().length||t[n.options.pos].hide(),n.options.onClose.apply(n,[]),n.element.trigger("close.uk.notify",[n]),delete i[n.uuid]};this.timeout&&clearTimeout(this.timeout),e?o():this.element.animate({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0},function(){o()})},content:function(e){var t=this.element.find(">div");return e?(t.html(e),this):t.html()},status:function(e){return e?(this.element.removeClass("uk-notify-message-"+this.currentstatus).addClass("uk-notify-message-"+e),this.currentstatus=e,this):this.currentstatus}}),r.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},e.notify=n,e.notify.message=r,e.notify.closeAll=o,n});var FlashDetect=new function(){var e=this;e.installed=!1,e.raw="",e.major=-1,e.minor=-1,e.revision=-1,e.revisionStr="";var t=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(e){return n(e)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(e){var t="6,0,21";try{e.AllowScriptAccess="always",t=n(e)}catch(i){}return t}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(e){return n(e)}}],n=function(e){var t=-1;try{t=e.GetVariable("$version")}catch(i){}return t},o=function(e){var t=-1;try{t=new ActiveXObject(e)}catch(i){t={activeXError:!0}}return t},r=function(e){var t=e.split(",");return{raw:e,major:parseInt(t[0].split(" ")[1],10),minor:parseInt(t[1],10),revision:parseInt(t[2],10),revisionStr:t[2]}},a=function(e){var t=e.split(/ +/),i=t[2].split(/\./),n=t[3];return{raw:e,major:parseInt(i[0],10),minor:parseInt(i[1],10),revisionStr:n,revision:s(n)}},s=function(t){return parseInt(t.replace(/[a-zA-Z]/g,""),10)||e.revision};e.majorAtLeast=function(t){return e.major>=t},e.minorAtLeast=function(t){return e.minor>=t},e.revisionAtLeast=function(t){return e.revision>=t},e.versionAtLeast=function(t){var n=[e.major,e.minor,e.revision],o=Math.min(n.length,arguments.length);for(i=0;i<o;i++){if(n[i]>=arguments[i]){if(i+1<o&&n[i]==arguments[i])continue;return!0}return!1}},e.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var i="application/x-shockwave-flash",n=navigator.mimeTypes;if(n&&n[i]&&n[i].enabledPlugin&&n[i].enabledPlugin.description){var s=n[i].enabledPlugin.description,l=a(s);e.raw=l.raw,e.major=l.major,e.minor=l.minor,e.revisionStr=l.revisionStr,e.revision=l.revision,e.installed=!0}}else if(-1==navigator.appVersion.indexOf("Mac")&&window.execScript)for(var s=-1,c=0;c<t.length&&-1==s;c++){var u=o(t[c].name);if(!u.activeXError&&(e.installed=!0,s=t[c].version(u),-1!=s)){var l=r(s);e.raw=l.raw,e.major=l.major,e.minor=l.minor,e.revision=l.revision,e.revisionStr=l.revisionStr}}}()};FlashDetect.JS_RELEASE="1.0.4",function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var t=window.Cookies,i=window.Cookies=e(window.jQuery);i.noConflict=function(){return window.Cookies=t,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(i){function n(t,o,r){var a;if(arguments.length>1){if(r=e({path:"/"},n.defaults,r),"number"==typeof r.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(l){}return o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var p=c[d].split("="),h=p[0].replace(u,decodeURIComponent),f=p.slice(1).join("=");if('"'===f.charAt(0)&&(f=f.slice(1,-1)),f=i&&i(f,h)||f.replace(u,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(l){}if(t===h){a=f;break}t||(a[h]=f)}return a}return n.get=n.set=n,n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}return t()}),!function(e,t,i,n){function o(e,t){return e[t]===n?y[t]:e[t]}function r(){var e=t.pageYOffset;return e===n?v.scrollTop:e}function a(e,t){var i=y["on"+e];i&&(x(i)?i.call(t[0]):(i.addClass&&t.addClass(i.addClass),i.removeClass&&t.removeClass(i.removeClass))),t.trigger("lazy"+e,[t]),u()}function s(t){a(t.type,e(this).off(m,s))}function l(i){if(I.length){i=i||y.forceLoad,T=1/0;var n,o,l=r(),c=t.innerHeight||v.clientHeight,u=t.innerWidth||v.clientWidth;for(n=0,o=I.length;o>n;n++){var d,p=I[n],f=p[0],g=p[h],b=!1,w=i;if(_(v,f)){if(i||!g.visibleOnly||f.offsetWidth||f.offsetHeight){if(!w){var k=f.getBoundingClientRect(),$=g.edgeX,C=g.edgeY;d=k.top+l-C-c,w=l>=d&&k.bottom>-C&&k.left<=u+$&&k.right>-$}if(w){a("show",p);var S=g.srcAttr,E=x(S)?S(p):f.getAttribute(S);E&&(p.on(m,s),f.src=E),b=!0}else T>d&&(T=d)}}else b=!0;b&&(I.splice(n--,1),o--)}o||a("complete",e(v))}}function c(){S>1?(S=1,l(),setTimeout(c,y.throttle)):S=0}function u(e){I.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&T>=r()||(S||setTimeout(c,0),S=2))}function d(){k.lazyLoadXT()}function p(){l(!0)}var h="lazyLoadXT",f="lazied",m="load error",g="lazy-hidden",v=i.documentElement||i.body,b=t.onscroll===n||!!t.operamini||!v.getBoundingClientRect,y={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:b,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:g},onload:{removeClass:g,addClass:"lazy-loaded"},onerror:{removeClass:g},checkDuplicates:!0},w={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},k=e(t),x=e.isFunction,$=e.extend,C=e.data||function(t,i){return e(t).data(i)},_=e.contains||function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},I=[],T=0,S=0;e[h]=$(y,w,e[h]),e.fn[h]=function(i){i=i||{};var n,r=o(i,"blankImage"),s=o(i,"checkDuplicates"),l=o(i,"scrollContainer"),c={};e(l).on("scroll",u);for(n in w)c[n]=o(i,n);return this.each(function(n,o){if(o===t)e(y.selector).lazyLoadXT(i);else{if(s&&C(o,f))return;var l=e(o).data(f,1);r&&"IMG"===o.tagName&&!o.src&&(o.src=r),l[h]=$({},c),a("init",l),I.push(l)}})},e(i).ready(function(){a("start",k),k.on(y.loadEvent,d).on(y.updateEvent,u).on(y.forceEvent,p),e(i).on(y.updateEvent,u),y.autoInit&&d()})}(window.jQuery||window.Zepto||window.$,window,document),function(e,t){e.SocialShare={},SocialShare.Networks=[{name:"Facebook","class":"facebook",url:"http://www.facebook.com/sharer.php?s=100&p[url]={url}&p[images][0]={img}&p[title]={title}&p[summary]={desc}"},{name:"Twitter","class":"twitter",url:"https://twitter.com/share?url={url}&text={title}&via={via}&hashtags={hashtags}"},{name:"Google+","class":"google",url:"https://plus.google.com/share?url={url}"},{name:"Tumblr","class":"tumblr",url:"http://www.tumblr.com/share/link?url={url}&name={title}&description={desc}"},{name:"Reddit","class":"reddit",url:"http://reddit.com/submit?url={url}&title={title}"}],SocialShare.generateSocialUrls=function(e){if("object"!=typeof e)return!1;for(var t,i=[],n=0;n<SocialShare.Networks.length;n++)t=SocialShare.Networks[n],i.push({name:t.name,"class":t["class"],url:SocialShare.generateUrl(t.url,e)});return i},SocialShare.generateUrl=function(e,t){var i,n,o;for(i in t)n="{"+i+"}",-1!==e.indexOf(n)&&(e=e.replace(new RegExp(n,"g"),encodeURIComponent(t[i]))),o="{"+i+"-ne}",-1!==e.indexOf(o)&&(e=e.replace(new RegExp(o,"g"),t[i]));return this.cleanUrl(e)},SocialShare.cleanUrl=function(e){e=e.replace(/\{([^{}]*)}/g,"");var t=e.match(/[^\=\&\?]+=[^\=\&\?]+/g),i=e.split("?")[0];return t&&t.length>0&&(i+="?"+t.join("&")),i},SocialShare.doPopup=function(t){t=t?t:e.event;var i=t.target?t.target:t.srcElement,n=i.data-n||800,o=i.data-o||500,r=Math.floor(((screen.availWidth||1024)-n)/2),a=Math.floor(((screen.availHeight||700)-o)/2),s=e.open(i.href,"social","width="+n+",height="+o+",left="+r+",top="+a+",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1");return s&&(s.focus(),t.preventDefault&&t.preventDefault(),t.returnValue=!1),!!s}}(window);var $form=$("#signup_form");$form.length&&$form.submit(function(e){var t=$("input[name=username]",this).val().trim(),i=$("input[name=pass]",this).val().trim(),n=$("input[name=pass2]",this).val().trim(),o=$('[name="g-recaptcha-response"]',this).val().trim(),r=$("input[name=email]",this).val().trim();$(".field_error",this).addClass("is_hidden");var a=/^[a-z0-9_.-@]{3,65}$/i,s=/^[a-z0-9_.-]+@([a-z0-9-]+\.)+[a-z]{2,4}$/i;do{if(!t){$("#username_error_1").removeClass("is_hidden");break}if(t.length<3){$("#username_error_2").removeClass("is_hidden");break}if(!a.test(t)){$("#username_error_3").removeClass("is_hidden");break}if(!i){$("#pass_error_1").removeClass("is_hidden");break}if(i.length<5){$("#pass_error_2").removeClass("is_hidden");break}if(n!==i){$("#pass2_error_2").removeClass("is_hidden");break}if(!r){$("#email_error_2").removeClass("is_hidden");break}if(!s.test(r)){$("#email_error_2").removeClass("is_hidden");break}if(!o.length){$("#recaptcha_error_1").removeClass("is_hidden");break}$form.submit()}while(!1);e.preventDefault()}),$(function(){$("#js-back-to-top").click(function(){return $("html,body").animate({scrollTop:0},800),!1})}),$(window).resize(animateButton),$(window).scroll(animateButton),$(window).load(animateButton);var $body=$(document.body);!function(){$(document).on("scroll",function(){$(document).scrollTop()>=350&&$("#js-promo-babe").css("top","5px")})}();var utilitiesAjaxModal=function(e,t){var i=UIkit.modal(".js-modal-ajax"),n=$(".modal__content");i.isActive()?n.load(t+" #js-target-content > *"):(i.one("show.uk.modal",function(e){e.preventDefault(),n.load(t+" #js-target-content > *")}),i.show())};$("html").attr("lang",langAttribute()),$(function(){function e(e){$body.on({mouseenter:function(){var e=$(this);e.addClass("is_hovered"),$(".thumb__title",e).get(0).offsetWidth<$(".thumb__title",e).get(0).scrollWidth&&$(".thumb__title",e).addClass("slide-text")},mouseleave:function(){var e=$(this);e.removeClass("is_hovered"),$(".thumb__title",e).removeClass("slide-text")}},e)}if($(".player").hasClass("flash-games")&&!FlashDetect.installed){var t='<div class="player__no-flash">Your Flash plugin is not active. Please enable Flash in your browser. Otherwise you can play Games at <a class="link" target=\'_blank\' href="http://besthentaigames.com/?id=550&tr=11">BestHentaiGames.com</a></div>';$(".player").html(t)}$("#dropable_open").on("click",function(e){e.preventDefault(),$("#js-slidedown-menu-0").toggleClass("slidedown-menu--open").siblings().removeClass("slidedown-menu--open")}),"/album/"==location.pathname&&$("#dropable-pins").on("click",function(e){e.preventDefault(),$("#js-slidedown-menu-1").toggleClass("slidedown-menu--open").siblings().removeClass("slidedown-menu--open")}),function(){var e=location.href,t=$("#js-sidebar-categories").find(".link");t.each(function(){var t=$(this);t.attr("href")==e&&t.parent(".list__item").addClass("list__item--active")})}(),function(){var e=$(".comments-list"),t=$(".comments-list__group--hidden").length,i=$("#js-show-more-comments"),n=0;0!=t?i.on("click",function(){n!=t?(n++,console.log(n),e.children(".comments-list__group--hidden").first().removeClass("comments-list__group--hidden")):i.hide()}):i.hide()}(),function(){$(".js-show-more").on("click",function(){var e=$(this);changeButtonText(e)})}(),$(".js-category-group").on("click",function(){var e=$(this).data("group-id");setCategoryGroupId(e)}),$(".js-category-group-select").on("change",function(){var e=$(this).val();setCategoryGroupId(e),window.location.reload()}),void 0===Cookies.get("category_group_id")&&window.tubecupParams.category_group_id&&setCategoryGroupId(window.tubecupParams.category_group_id),$(document).on("click",'[data-modal="ajax"]',function(e){e.preventDefault(),utilitiesAjaxModal($(this),$(this).attr("href"))});var i=!!navigator.userAgent.match(/Trident\/7\./),n=navigator.userAgent.match(/MSIE/i)?!0:!1;i||n||$(document).on("click",'[data-modal="iframe"]',function(e){e.preventDefault();var t=$("#feedbackIframe"),i=$('<iframe id="feedbackIframe" src="/form.html" align="middle" name="feedback" width="100%" style="min-height: 380px;" class="feedback-iframe" scrolling="no" frameborder="0"></iframe>');t.length||$("#report_iframe").append(i);var n=UIkit.modal(".js-modal-iframe");n.show(),i.load(function(){var e=$("#feedbackIframe").contents().find("#accordion");setInterval(function(){$("#feedbackIframe").css("height",e.height())},100)})}),function(){$(document.body).on("click",".has-arrow",function(){$(this).toggleClass("is_active")})}();var o=!1;if("ontouchstart"in document.documentElement&&(o=!0),0==o){var r=function(){$body.on("mousemove",".js-thumb-pagination span",function(){var e=$(this),t=e.siblings().addBack().index(this)+1;e.closest(".js-thumb-pagination").find("img").attr("src",function(e,i){return i.replace(/\d+\.jpg/,t+".jpg")})}),$body.on("mouseleave",".js-thumb-pagination",function(){var e=$(this),t=e.data("screen_main");e.find("img").attr("src",function(e,i){return i.replace(/\d+\.jpg/,t+".jpg")})}),$body.on({mouseover:function(){var e=$(this),t=e.find(".thumb-pagination span:hover").data("screen-url");e.find("img").attr("src",t)},mouseleave:function(){var e=$(this),t=e.data("screen_main");e.find("img").attr("src",t)}},".playlist-thumbnail-pagination")};r()}var a=function(){$(document).on("click",".js-subscription",function(e){e.preventDefault();var t=$(this),i=(t.find("use"),t.data("subscribe-to")),n=t.data("id"),o=t.data("action");t.data("is-subscribed");if(i&&n){var r={mode:"async",action:o};r[r.action+"_"+i+"_id"]=n,utilitiesAjaxRequest(t,r,function(e){if("success"==e.status)t.addClass("is-hidden").siblings(".js-subscription").removeClass("is-hidden");else if("failure"==e.status&&"not_logged_in"==e.errors[0].code){var i="/login/?action=not_allowed";utilitiesAjaxModal(t,i)}})}})};a();var s=function(){$(".js-action-friends-zone").on("submit",function(e){e.preventDefault();var t=$(this),i=t.data("id"),n=$.trim(t.find(".textarea").val()),o=t.data("action");if(i&&o)var r={action:o,message:n};utilitiesAjaxRequest(t,r,function(e){if("success"==e.status){var i=$("#notifications-friends-zone").find("#notify-"+o).html();UIkit.notify({status:"info",message:i,timeout:5e3,pos:"top-left"})}else UIkit.notify({message:'If you have received this message please <a class="link" href="/form.html" data-modal="iframe">contact us.</a>',status:"danger",timeout:6e3}),t.unblock()})})};s();var l=function(){$(document).on("click",".js-action-add-to-fav, .js-action-add-to-watch-later",function(){var e=$(this),t=e.data("video-id"),i=e.find(".i"),n=e.data("action"),o=e.data("fav-type"),r=e.data("playlist-id")||0,a={rand:(new Date).getTime(),action:n,fav_type:o,video_id:t,video_ids:[t],playlist_id:r};if(t){if(10==o&&!r){var s="/create-playlist/";return utilitiesAjaxModal(e,s),!0}i.addClass("i--loading"),utilitiesAjaxRequest(e,a,function(t){if("success"==t.status)i.removeClass("i--loading"),0==o?e.addClass("is-hidden").siblings(".js-action-add-to-fav").removeClass("is-hidden"):1==o&&e.addClass("is-hidden").siblings(".js-action-add-to-watch-later").removeClass("is-hidden");else if("failure"==t.status&&"not_logged_in"==t.errors[0].code){var n="/login/?action=not_allowed";i.removeClass("i--loading"),utilitiesAjaxModal(e,n)}})}else e.css("cursor","default")})};l(),function(){var e=$("#js-fav-videos-list"),t=e.find(".thumb");t.each(function(){var e=$(this),t=e.find(".js-remove-fav");$body.on("click",t,function(){})})}(),$(".js-toggle-player").on("click",function(){ShowFive();var e=$(this);e.addClass("is-hidden").siblings(".js-toggle-player").removeClass("is-hidden").closest(".col--size--l").toggleClass("wide-view")}),e(".thumb")}),DropDown.prototype={initEvents:function(){var e=this;e.items.on("click",function(){var t=$(this);e.val=t.text(),e.placeholder.text(e.val)})},getValue:function(){return this.val}},$(function(){function e(e){var e=$(e);e.each(function(){var e=$(this),t=(e.find(".tabs__panel"),e.find(".tabs__tab")),i=t.attr("href"),n=window.location.hash;e.find(".tabs__tab").hasClass("tabs__tab--active")?""!=n&&($('.tabs__tab[href="'+n+'"]').addClass("tabs__tab--active").siblings().removeClass("tabs__tab--active"),$(".tabs__panel"+n).addClass("tabs__panel--active").siblings().removeClass("tabs__panel--active")):(e.find(".tabs__tab:first-child").addClass("tabs__tab--active"),e.find(".tabs__panel:first-child").addClass("tabs__panel--active")),t.on("click",function(e){e.preventDefault();var t=$(this);i=t.attr("href"),t.addClass("tabs__tab--active").siblings().removeClass("tabs__tab--active"),$(i).addClass("tabs__panel--active").siblings().removeClass("tabs__panel--active"),n=i,history.pushState(null,null,n)})})}if($(".js-dropdown-select").each(function(){new DropDown($(this))}),$(document).on("change",".js-select-dropdown",function(){location.href=this.value}),function(){window.history.location||window.location;$(document).on("click",".js-load-btn",function(e){$(this);e.preventDefault();$(this).attr("href")}),$(window).on("popstate",function(e){"state"in window.history&&null!==window.history.state&&(loadContent(history.state.url,!1),$('a[href="'+e.state.location+'"].js-load-btn').addClass("dropdown__item---active"))})}(),$(".table__row-group--hidden").length>0?$(".js-load-more-member-info").on("click",function(){$(".table__row-group").last().toggleClass("table__row-group--hidden")}):$(".js-load-more-member-info").hide(),e(".tabs"),function(){var e={url:location.href,title:document.title},t=SocialShare.generateSocialUrls(e),i=$(".social--share");i.html("");for(var n=0;n<t.length;n++){var o=t[n];i.append('<a class="social__item social__item--'+o["class"]+" i i--"+o["class"]+'" target="_blank" href="'+o.url+'" title="'+o.name+'"></a>')}i.on("click","a",SocialShare.doPopup)}(),!Modernizr.csscolumns){var t;t="ru"==langAttribute||"it"==langAttribute||"fr"==langAttribute||"pt"==langAttribute?5:6,
$("#js-list-drop-cats").columnize({columns:t}),$(".cat-text-frame").columnize({width:120,columns:8})}$("#playvideot").height()>350&&$("#57616095").hide()}),initChangeMainScreenshot(),changeButtonView(),function(){var e={letters:[]};$("#js-categories-list-text").children("li").each(function(){var t=$(this).text().substring(0,1).toUpperCase();t in e||(e[t]=[],e.letters.push(t)),e[t].push($(this))}),e.letters.sort(),$.each(e.letters,function(t,i){e[i].sort(function(e,t){return $(e).text().toUpperCase().localeCompare($(t).text().toUpperCase())});var n=$("<ul/>");$.each(e[i],function(e,t){n.append(t)}),$("#js-categories-list-text").append($("<li/>").append($("<a/>").attr("name",i.toLowerCase()).addClass("title").html(i)).append(n))})}();var $container=$(".js-select-video-category"),$checkbox=$container.find("input[type=checkbox]");$checkbox.on("change",function(){$(this).closest($container).siblings($container).find("input[type=checkbox]").attr("disabled",!0)});var $$={elements:{},events:{},methods:{URLParser:function(e){var t=document.createElement("a");return t.href=e,t},QueryString:function(){for(var e,t={},i=window.location.search.substring(1),n=i.split("&"),o=0;o<n.length;o++)e=n[o].split("="),"undefined"==typeof t[e[0]]?t[e[0]]=e[1]:"string"==typeof t[e[0]]?t[e[0]]=[t[e[0]],e[1]]:t[e[0]].push(e[1]);return t}(),buildTemplate:function(e,t){var i,n,o="",r=$(t).text();return $.each(e,function(e,t){i=r,$.each(t,function(e,t){n=new RegExp("\\${"+e+"}","g"),i=i.replace(n,t)}),o+=i}),$(o)}},init:function(){$$.elements.$window=$(window),$$.elements.$body=$(document.body),$$.elements.parentDocument=$([document.documentElement,document.body]),$$.page=$(document.body).attr("class"),$$.tubecup=$.extend({user_id:void 0,stats_url:void 0,video_id:void 0,related_url:void 0,video_like:void 0,video_dislike:void 0,comment_id:void 0,comment_vote:void 0},window.tubecupParams),$$.userSettings=Cookies.getJSON("userSettings")}};$(document).ready(function(){function e(e){var t=$(e),i=t.data("comment-vote"),n=t.closest(".vote"),o=t.siblings(".vote__count"),r=t.closest(".comment").data("comment-id");$.ajax({type:"GET",data:{mode:"async",rand:(new Date).getTime(),action:"vote_comment",comment_id:r,vote:i},complete:function(e){var a=Cookies.getJSON("userSettings")||{};if(a["votedForComment"+[r]]?e.responseText="failure":(a["votedForComment"+[r]]=!0,Cookies.set("userSettings",a,{path:"/",expires:365})),e.responseText.indexOf("success")>-1){t.attr("title",t.data("success"));var s=parseInt(o.html());s+=i,o.html(s),s>0?o.addClass("vote__count--positive"):0>s?o.addClass("vote__count--negative"):0==s&&o.removeClass("vote__count--positive").removeClass("vote__count--negative"),n.addClass("vote--already")}e.responseText.indexOf("failure")>-1&&t.attr("title",t.data("failure"))}})}if($$.init(),$("[data-video-id]").closest(".js-thumb").length){var t=JSON.parse(localStorage.getItem("watched"))||[],i=$(".js-thumb");t.forEach(function(e){"use strict";i.length&&($("[data-video-id="+e+"]").prepend('<div class="thumb__watched">'+window.tubecupParams.watched_videos+"</div>"),$("[data-video-id="+e+"]").addClass("is-watched"))})}"video_view"==$$.page&&(!function(){function e(e){var t=$(e),i=t.attr("id"),n=t.find(".btn__text"),o=t.find(".i");$.ajax({url:"?mode=async&rand="+(new Date).getTime(),type:"POST",data:{action:"flag",video_id:$$.tubecup.video_id,flag_id:i},complete:function(e){var r=Cookies.getJSON("userSettings")||{};r["votedForVideo"+[$$.tubecup.video_id]]?e.responseText="failure":(r["votedForVideo"+[$$.tubecup.video_id]]=!0,Cookies.set("userSettings",r,{path:"/",expires:30})),e.responseText.indexOf("success")>-1&&($(n).html(function(e,t){var i=t.match(/(\d+)/)[0];return t.replace(i,parseInt(i)+1)}),$(".uk-tooltip").text(t.data("success")).show(),"flag_like_this_video"==i?($$.tubecup.video_like++,o.addClass("i--color-green")):($$.tubecup.video_dislike++,o.addClass("i--color-red"))),e.responseText.indexOf("failure")>-1&&$(".uk-tooltip").text(t.data("error")).show()}})}$("#flag_like_this_video").one("click",function(){e($(this))}),$("#flag_dislike_this_video").one("click",function(){e($(this))})}(),$("#comments").on("click",".js-comment-like",function(){e(this)}),$("#comments").on("click",".js-comment-dislike",function(){e(this)}))});